!function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}([function(t,e,n){(function(e){var n=e&&e.pid?e.pid.toString(36):"";function o(){var t=Date.now(),e=o.last||t;return o.last=t>e?t:e+1}t.exports=t.exports.default=function(t,e){return(t||"")+""+n+o().toString(36)+(e||"")},t.exports.process=function(t,e){return(t||"")+n+o().toString(36)+(e||"")},t.exports.time=function(t,e){return(t||"")+o().toString(36)+(e||"")}}).call(this,n(1))},function(t,e){var n,o,r=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{o="function"==typeof clearTimeout?clearTimeout:a}catch(t){o=a}}();var l,c=[],u=!1,d=-1;function f(){u&&l&&(u=!1,l.length?c=l.concat(c):d=-1,c.length&&h())}function h(){if(!u){var t=s(f);u=!0;for(var e=c.length;e;){for(l=c,c=[];++d<e;)l&&l[d].run();d=-1,e=c.length}l=null,u=!1,function(t){if(o===clearTimeout)return clearTimeout(t);if((o===a||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function m(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new p(t,e)),1!==c.length||u||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(t,e,n){"use strict";function o(){return(o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}).apply(this,arguments)}function r(t){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(t)}n.r(e);var i=r(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),a=r(/Edge/i),s=r(/firefox/i),l=r(/safari/i)&&!r(/chrome/i)&&!r(/android/i),c=r(/iP(ad|od|hone)/i),u=r(/chrome/i)&&r(/android/i),d={capture:!1,passive:!1};function f(t,e,n){t.addEventListener(e,n,!i&&d)}function h(t,e,n){t.removeEventListener(e,n,!i&&d)}function p(t,e){if(e){if(">"===e[0]&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch(t){return!1}return!1}}function m(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function v(t,e,n,o){if(t){n=n||document;do{if(null!=e&&(">"===e[0]?t.parentNode===n&&p(t,e):p(t,e))||o&&t===n)return t;if(t===n)break}while(t=m(t))}return null}var g,y=/\s+/g;function b(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var o=(" "+t.className+" ").replace(y," ").replace(" "+e+" "," ");t.className=(o+(n?" "+e:"")).replace(y," ")}}function k(t,e,n){var o=t&&t.style;if(o){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),void 0===e?n:n[e];e in o||-1!==e.indexOf("webkit")||(e="-webkit-"+e),o[e]=n+("string"==typeof n?"":"px")}}function w(t,e){var n="";if("string"==typeof t)n=t;else do{var o=k(t,"transform");o&&"none"!==o&&(n=o+" "+n)}while(!e&&(t=t.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(n)}function D(t,e,n){if(t){var o=t.getElementsByTagName(e),r=0,i=o.length;if(n)for(;r<i;r++)n(o[r],r);return o}return[]}function T(){return document.scrollingElement||document.documentElement}function S(t,e,n,o,r){if(t.getBoundingClientRect||t===window){var a,s,l,c,u,d,f;if(t!==window&&t!==T()?(s=(a=t.getBoundingClientRect()).top,l=a.left,c=a.bottom,u=a.right,d=a.height,f=a.width):(s=0,l=0,c=window.innerHeight,u=window.innerWidth,d=window.innerHeight,f=window.innerWidth),(e||n)&&t!==window&&(r=r||t.parentNode,!i))do{if(r&&r.getBoundingClientRect&&("none"!==k(r,"transform")||n&&"static"!==k(r,"position"))){var h=r.getBoundingClientRect();s-=h.top+parseInt(k(r,"border-top-width")),l-=h.left+parseInt(k(r,"border-left-width")),c=s+a.height,u=l+a.width;break}}while(r=r.parentNode);if(o&&t!==window){var p=w(r||t),m=p&&p.a,v=p&&p.d;p&&(c=(s/=v)+(d/=v),u=(l/=m)+(f/=m))}return{top:s,left:l,bottom:c,right:u,width:f,height:d}}}function E(t,e,n){for(var o=M(t,!0),r=S(t)[e];o;){var i=S(o)[n];if(!("top"===n||"left"===n?r>=i:r<=i))return o;if(o===T())break;o=M(o,!1)}return!1}function j(t,e,n){for(var o=0,r=0,i=t.children;r<i.length;){if("none"!==i[r].style.display&&i[r]!==It.ghost&&i[r]!==It.dragged&&v(i[r],n.draggable,t,!1)){if(o===e)return i[r];o++}r++}return null}function L(t,e){for(var n=t.lastElementChild;n&&(n===It.ghost||"none"===k(n,"display")||e&&!p(n,e));)n=n.previousElementSibling;return n||null}function x(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)"TEMPLATE"===t.nodeName.toUpperCase()||t===It.clone||e&&!p(t,e)||n++;return n}function C(t){var e=0,n=0,o=T();if(t)do{var r=w(t);e+=t.scrollLeft*r.a,n+=t.scrollTop*r.d}while(t!==o&&(t=t.parentNode));return[e,n]}function M(t,e){if(!t||!t.getBoundingClientRect)return T();var n=t,o=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var r=k(n);if(n.clientWidth<n.scrollWidth&&("auto"==r.overflowX||"scroll"==r.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==r.overflowY||"scroll"==r.overflowY)){if(!n.getBoundingClientRect||n===document.body)return T();if(o||e)return n;o=!0}}}while(n=n.parentNode);return T()}function O(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}function _(t,e){return function(){if(!g){var n=arguments,o=this;1===n.length?t.call(o,n[0]):t.apply(o,n),g=setTimeout((function(){g=void 0}),e)}}}function N(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function P(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}function I(t,e){k(t,"position","absolute"),k(t,"top",e.top),k(t,"left",e.left),k(t,"width",e.width),k(t,"height",e.height)}function A(t){k(t,"position",""),k(t,"top",""),k(t,"left",""),k(t,"width",""),k(t,"height","")}var q="Sortable"+(new Date).getTime(),W=[],X={initializeByDefault:!0},B={mount:function(t){for(var e in X)X.hasOwnProperty(e)&&!(e in t)&&(t[e]=X[e]);W.push(t)},pluginEvent:function(t,e,n){var r=this;this.eventCanceled=!1,n.cancel=function(){r.eventCanceled=!0};var i=t+"Global";W.forEach((function(r){e[r.pluginName]&&(e[r.pluginName][i]&&e[r.pluginName][i](o({sortable:e},n)),e.options[r.pluginName]&&e[r.pluginName][t]&&e[r.pluginName][t](o({sortable:e},n)))}))},initializePlugins:function(t,e,n,o){for(var r in W.forEach((function(o){var r=o.pluginName;if(t.options[r]||o.initializeByDefault){var i=new o(t,e,t.options);i.sortable=t,i.options=t.options,t[r]=i,Object.assign(n,i.defaults)}})),t.options)if(t.options.hasOwnProperty(r)){var i=this.modifyOption(t,r,t.options[r]);void 0!==i&&(t.options[r]=i)}},getEventProperties:function(t,e){var n={};return W.forEach((function(o){"function"==typeof o.eventProperties&&Object.assign(n,o.eventProperties.call(e[o.pluginName],t))})),n},modifyOption:function(t,e,n){var o;return W.forEach((function(r){t[r.pluginName]&&r.optionListeners&&"function"==typeof r.optionListeners[e]&&(o=r.optionListeners[e].call(t[r.pluginName],n))})),o}};function H(t){var e=t.sortable,n=t.rootEl,r=t.name,s=t.targetEl,l=t.cloneEl,c=t.toEl,u=t.fromEl,d=t.oldIndex,f=t.newIndex,h=t.oldDraggableIndex,p=t.newDraggableIndex,m=t.originalEvent,v=t.putSortable,g=t.extraEventProperties;if(e=e||n&&n[q]){var y,b=e.options,k="on"+r.charAt(0).toUpperCase()+r.substr(1);!window.CustomEvent||i||a?(y=document.createEvent("Event")).initEvent(r,!0,!0):y=new CustomEvent(r,{bubbles:!0,cancelable:!0}),y.to=c||n,y.from=u||n,y.item=s||n,y.clone=l,y.oldIndex=d,y.newIndex=f,y.oldDraggableIndex=h,y.newDraggableIndex=p,y.originalEvent=m,y.pullMode=v?v.lastPutMode:void 0;var w=o({},g,B.getEventProperties(r,e));for(var D in w)y[D]=w[D];n&&n.dispatchEvent(y),b[k]&&b[k].call(e,y)}}var R=function(t,e,n){var r=void 0===n?{}:n,i=r.evt,a=function(t,e){if(null==t)return{};var n,o,r={},i=Object.keys(t);for(o=0;o<i.length;o++)e.indexOf(n=i[o])>=0||(r[n]=t[n]);return r}(r,["evt"]);B.pluginEvent.bind(It)(t,e,o({dragEl:F,parentEl:z,ghostEl:K,rootEl:J,nextEl:U,lastDownEl:G,cloneEl:V,cloneHidden:Q,dragStarted:ut,putSortable:ot,activeSortable:It.active,originalEvent:i,oldIndex:Z,oldDraggableIndex:tt,newIndex:$,newDraggableIndex:et,hideGhostForTarget:Mt,unhideGhostForTarget:Ot,cloneNowHidden:function(){Q=!0},cloneNowShown:function(){Q=!1},dispatchSortableEvent:function(t){Y({sortable:e,name:t,originalEvent:i})}},a))};function Y(t){H(o({putSortable:ot,cloneEl:V,targetEl:F,rootEl:J,oldIndex:Z,oldDraggableIndex:tt,newIndex:$,newDraggableIndex:et},t))}var F,z,K,J,U,G,V,Q,Z,$,tt,et,nt,ot,rt,it,at,st,lt,ct,ut,dt,ft,ht,pt,mt=!1,vt=!1,gt=[],yt=!1,bt=!1,kt=[],wt=!1,Dt=[],Tt="undefined"!=typeof document,St=c,Et=a||i?"cssFloat":"float",jt=Tt&&!u&&!c&&"draggable"in document.createElement("div"),Lt=function(){if(Tt){if(i)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto","auto"===t.style.pointerEvents}}(),xt=function(t,e){var n=k(t),o=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),r=j(t,0,e),i=j(t,1,e),a=r&&k(r),s=i&&k(i),l=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+S(r).width,c=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+S(i).width;return"flex"===n.display?"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal":"grid"===n.display?n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal":r&&a.float&&"none"!==a.float?!i||"both"!==s.clear&&s.clear!==("left"===a.float?"left":"right")?"horizontal":"vertical":r&&("block"===a.display||"flex"===a.display||"table"===a.display||"grid"===a.display||l>=o&&"none"===n[Et]||i&&"none"===n[Et]&&l+c>o)?"vertical":"horizontal"},Ct=function(t){function e(t,n){return function(o,r,i,a){if(null==t&&(n||o.options.group.name&&r.options.group.name&&o.options.group.name===r.options.group.name))return!0;if(null==t||!1===t)return!1;if(n&&"clone"===t)return t;if("function"==typeof t)return e(t(o,r,i,a),n)(o,r,i,a);var s=(n?o:r).options.group.name;return!0===t||"string"==typeof t&&t===s||t.join&&t.indexOf(s)>-1}}var n={},o=t.group;o&&"object"==typeof o||(o={name:o}),n.name=o.name,n.checkPull=e(o.pull,!0),n.checkPut=e(o.put),n.revertClone=o.revertClone,t.group=n},Mt=function(){!Lt&&K&&k(K,"display","none")},Ot=function(){!Lt&&K&&k(K,"display","")};Tt&&document.addEventListener("click",(function(t){if(vt)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),vt=!1,!1}),!0);var _t,Nt=function(t){if(F){var e=(r=(t=t.touches?t.touches[0]:t).clientX,i=t.clientY,gt.some((function(t){if(!L(t)){var e=S(t),n=t[q].options.emptyInsertThreshold;return n&&r>=e.left-n&&r<=e.right+n&&i>=e.top-n&&i<=e.bottom+n?a=t:void 0}})),a);if(e){var n={};for(var o in t)t.hasOwnProperty(o)&&(n[o]=t[o]);n.target=n.rootEl=e,n.preventDefault=void 0,n.stopPropagation=void 0,e[q]._onDragOver(n)}}var r,i,a},Pt=function(t){F&&F.parentNode[q]._isOutsideThisEl(t.target)};function It(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw"Sortable: `el` must be an HTMLElement, not "+{}.toString.call(t);this.el=t,this.options=e=Object.assign({},e),t[q]=this;var n,r,i={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return xt(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==It.supportPointer&&"PointerEvent"in window,emptyInsertThreshold:5};for(var a in B.initializePlugins(this,t,i),i)!(a in e)&&(e[a]=i[a]);for(var s in Ct(e),this)"_"===s.charAt(0)&&"function"==typeof this[s]&&(this[s]=this[s].bind(this));this.nativeDraggable=!e.forceFallback&&jt,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?f(t,"pointerdown",this._onTapStart):(f(t,"mousedown",this._onTapStart),f(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(f(t,"dragover",this),f(t,"dragenter",this)),gt.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),Object.assign(this,(r=[],{captureAnimationState:function(){r=[],this.options.animation&&[].slice.call(this.el.children).forEach((function(t){if("none"!==k(t,"display")&&void 0!==t){r.push({target:t,rect:S(t)});var e=o({},r[r.length-1].rect);if(t.thisAnimationDuration){var n=w(t,!0);n&&(e.top-=n.f,e.left-=n.e)}t.fromRect=e}}))},addAnimationState:function(t){r.push(t)},removeAnimationState:function(t){r.splice(function(t,e){for(var n in t)if(t.hasOwnProperty(n))for(var o in e)if(e.hasOwnProperty(o)&&e[o]===t[n][o])return Number(n);return-1}(r,{target:t}),1)},animateAll:function(t){var e=this;if(!this.options.animation)return clearTimeout(n),void("function"==typeof t&&t());var o=!1,i=0;r.forEach((function(t){var n=0,r=t.target,a=r.fromRect,s=S(r),l=r.prevFromRect,c=r.prevToRect,u=t.rect,d=w(r,!0);d&&(s.top-=d.f,s.left-=d.e),r.toRect=s,r.thisAnimationDuration&&O(l,s)&&!O(a,s)&&(u.top-s.top)/(u.left-s.left)==(a.top-s.top)/(a.left-s.left)&&(n=function(t,e,n,o){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*o.animation}(u,l,c,e.options)),O(s,a)||(r.prevFromRect=a,r.prevToRect=s,n||(n=e.options.animation),e.animate(r,u,s,n)),n&&(o=!0,i=Math.max(i,n),clearTimeout(r.animationResetTimer),r.animationResetTimer=setTimeout((function(){r.animationTime=0,r.prevFromRect=null,r.fromRect=null,r.prevToRect=null,r.thisAnimationDuration=null}),n),r.thisAnimationDuration=n)})),clearTimeout(n),o?n=setTimeout((function(){"function"==typeof t&&t()}),i):"function"==typeof t&&t(),r=[]},animate:function(t,e,n,o){if(o){k(t,"transition",""),k(t,"transform","");var r=w(this.el),i=(e.left-n.left)/(r&&r.a||1),a=(e.top-n.top)/(r&&r.d||1);t.animatingX=!!i,t.animatingY=!!a,k(t,"transform","translate3d("+i+"px,"+a+"px,0)"),this.forRepaintDummy=function(t){return t.offsetWidth}(t),k(t,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),k(t,"transform","translate3d(0,0,0)"),"number"==typeof t.animated&&clearTimeout(t.animated),t.animated=setTimeout((function(){k(t,"transition",""),k(t,"transform",""),t.animated=!1,t.animatingX=!1,t.animatingY=!1}),o)}}}))}function At(t,e,n,o,r,s,l,c){var u,d,f=t[q],h=f.options.onMove;return!window.CustomEvent||i||a?(u=document.createEvent("Event")).initEvent("move",!0,!0):u=new CustomEvent("move",{bubbles:!0,cancelable:!0}),u.to=e,u.from=t,u.dragged=n,u.draggedRect=o,u.related=r||e,u.relatedRect=s||S(e),u.willInsertAfter=c,u.originalEvent=l,t.dispatchEvent(u),h&&(d=h.call(f,u,l)),d}function qt(t){t.draggable=!1}function Wt(){wt=!1}function Xt(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,o=0;n--;)o+=e.charCodeAt(n);return o.toString(36)}function Bt(t){return setTimeout(t,0)}function Ht(t){return clearTimeout(t)}It.prototype={constructor:It,_isOutsideThisEl:function(t){this.el.contains(t)||t===this.el||(dt=null)},_getDirection:function(t,e){return"function"==typeof this.options.direction?this.options.direction.call(this,t,e,F):this.options.direction},_onTapStart:function(t){if(t.cancelable){var e=this,n=this.el,o=this.options,r=o.preventOnFilter,i=t.type,a=t.touches&&t.touches[0]||t.pointerType&&"touch"===t.pointerType&&t,s=(a||t).target,c=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||s,u=o.filter;if(function(t){Dt.length=0;for(var e=t.getElementsByTagName("input"),n=e.length;n--;){var o=e[n];o.checked&&Dt.push(o)}}(n),!F&&!(/mousedown|pointerdown/.test(i)&&0!==t.button||o.disabled)&&!c.isContentEditable&&(this.nativeDraggable||!l||!s||"SELECT"!==s.tagName.toUpperCase())&&!((s=v(s,o.draggable,n,!1))&&s.animated||G===s)){if(Z=x(s),tt=x(s,o.draggable),"function"==typeof u){if(u.call(this,t,s,this))return Y({sortable:e,rootEl:c,name:"filter",targetEl:s,toEl:n,fromEl:n}),R("filter",e,{evt:t}),void(r&&t.cancelable&&t.preventDefault())}else if(u&&(u=u.split(",").some((function(o){if(o=v(c,o.trim(),n,!1))return Y({sortable:e,rootEl:o,name:"filter",targetEl:s,fromEl:n,toEl:n}),R("filter",e,{evt:t}),!0}))))return void(r&&t.cancelable&&t.preventDefault());o.handle&&!v(c,o.handle,n,!1)||this._prepareDragStart(t,a,s)}}},_prepareDragStart:function(t,e,n){var o,r=this,l=r.el,c=r.options,u=l.ownerDocument;if(n&&!F&&n.parentNode===l){var d=S(n);if(J=l,z=(F=n).parentNode,U=F.nextSibling,G=n,nt=c.group,It.dragged=F,lt=(rt={target:F,clientX:(e||t).clientX,clientY:(e||t).clientY}).clientX-d.left,ct=rt.clientY-d.top,this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,F.style["will-change"]="all",o=function(){R("delayEnded",r,{evt:t}),It.eventCanceled?r._onDrop():(r._disableDelayedDragEvents(),!s&&r.nativeDraggable&&(F.draggable=!0),r._triggerDragStart(t,e),Y({sortable:r,name:"choose",originalEvent:t}),b(F,c.chosenClass,!0))},c.ignore.split(",").forEach((function(t){D(F,t.trim(),qt)})),f(u,"dragover",Nt),f(u,"mousemove",Nt),f(u,"touchmove",Nt),f(u,"mouseup",r._onDrop),f(u,"touchend",r._onDrop),f(u,"touchcancel",r._onDrop),s&&this.nativeDraggable&&(this.options.touchStartThreshold=4,F.draggable=!0),R("delayStart",this,{evt:t}),!c.delay||c.delayOnTouchOnly&&!e||this.nativeDraggable&&(a||i))o();else{if(It.eventCanceled)return void this._onDrop();f(u,"mouseup",r._disableDelayedDrag),f(u,"touchend",r._disableDelayedDrag),f(u,"touchcancel",r._disableDelayedDrag),f(u,"mousemove",r._delayedDragTouchMoveHandler),f(u,"touchmove",r._delayedDragTouchMoveHandler),c.supportPointer&&f(u,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(o,c.delay)}}},_delayedDragTouchMoveHandler:function(t){var e=t.touches?t.touches[0]:t;Math.max(Math.abs(e.clientX-this._lastX),Math.abs(e.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){F&&qt(F),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;h(t,"mouseup",this._disableDelayedDrag),h(t,"touchend",this._disableDelayedDrag),h(t,"touchcancel",this._disableDelayedDrag),h(t,"mousemove",this._delayedDragTouchMoveHandler),h(t,"touchmove",this._delayedDragTouchMoveHandler),h(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,e){e=e||"touch"==t.pointerType&&t,!this.nativeDraggable||e?f(document,this.options.supportPointer?"pointermove":e?"touchmove":"mousemove",this._onTouchMove):(f(F,"dragend",this),f(J,"dragstart",this._onDragStart));try{document.selection?Bt((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(t){}},_dragStarted:function(t,e){if(mt=!1,J&&F){R("dragStarted",this,{evt:e}),this.nativeDraggable&&f(document,"dragover",Pt);var n=this.options;!t&&b(F,n.dragClass,!1),b(F,n.ghostClass,!0),It.active=this,t&&this._appendGhost(),Y({sortable:this,name:"start",originalEvent:e})}else this._nulling()},_emulateDragOver:function(){if(it){this._lastX=it.clientX,this._lastY=it.clientY,Mt();for(var t=document.elementFromPoint(it.clientX,it.clientY),e=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(it.clientX,it.clientY))!==e;)e=t;if(F.parentNode[q]._isOutsideThisEl(t),e)do{if(e[q]&&e[q]._onDragOver({clientX:it.clientX,clientY:it.clientY,target:t,rootEl:e})&&!this.options.dragoverBubble)break;t=e}while(e=e.parentNode);Ot()}},_onTouchMove:function(t){if(rt){var e=this.options,n=e.fallbackTolerance,o=e.fallbackOffset,r=t.touches?t.touches[0]:t,i=K&&w(K,!0),a=K&&i&&i.a,s=K&&i&&i.d,l=St&&pt&&C(pt),c=(r.clientX-rt.clientX+o.x)/(a||1)+(l?l[0]-kt[0]:0)/(a||1),u=(r.clientY-rt.clientY+o.y)/(s||1)+(l?l[1]-kt[1]:0)/(s||1);if(!It.active&&!mt){if(n&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<n)return;this._onDragStart(t,!0)}if(K){i?(i.e+=c-(at||0),i.f+=u-(st||0)):i={a:1,b:0,c:0,d:1,e:c,f:u};var d="matrix("+i.a+","+i.b+","+i.c+","+i.d+","+i.e+","+i.f+")";k(K,"webkitTransform",d),k(K,"mozTransform",d),k(K,"msTransform",d),k(K,"transform",d),at=c,st=u,it=r}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!K){var t=this.options.fallbackOnBody?document.body:J,e=S(F,!0,St,!0,t),n=this.options;if(St){for(pt=t;"static"===k(pt,"position")&&"none"===k(pt,"transform")&&pt!==document;)pt=pt.parentNode;pt!==document.body&&pt!==document.documentElement?(pt===document&&(pt=T()),e.top+=pt.scrollTop,e.left+=pt.scrollLeft):pt=T(),kt=C(pt)}b(K=F.cloneNode(!0),n.ghostClass,!1),b(K,n.fallbackClass,!0),b(K,n.dragClass,!0),k(K,"transition",""),k(K,"transform",""),k(K,"box-sizing","border-box"),k(K,"margin",0),k(K,"top",e.top),k(K,"left",e.left),k(K,"width",e.width),k(K,"height",e.height),k(K,"opacity","0.8"),k(K,"position",St?"absolute":"fixed"),k(K,"zIndex","100000"),k(K,"pointerEvents","none"),It.ghost=K,t.appendChild(K),k(K,"transform-origin",lt/parseInt(K.style.width)*100+"% "+ct/parseInt(K.style.height)*100+"%")}},_onDragStart:function(t,e){var n=this,o=t.dataTransfer,r=n.options;R("dragStart",this,{evt:t}),It.eventCanceled?this._onDrop():(R("setupClone",this),It.eventCanceled||((V=P(F)).draggable=!1,V.style["will-change"]="",this._hideClone(),b(V,this.options.chosenClass,!1),It.clone=V),n.cloneId=Bt((function(){R("clone",n),It.eventCanceled||(n.options.removeCloneOnHide||J.insertBefore(V,F),n._hideClone(),Y({sortable:n,name:"clone"}))})),!e&&b(F,r.dragClass,!0),e?(vt=!0,n._loopId=setInterval(n._emulateDragOver,50)):(h(document,"mouseup",n._onDrop),h(document,"touchend",n._onDrop),h(document,"touchcancel",n._onDrop),o&&(o.effectAllowed="move",r.setData&&r.setData.call(n,o,F)),f(document,"drop",n),k(F,"transform","translateZ(0)")),mt=!0,n._dragStartId=Bt(n._dragStarted.bind(n,e,t)),f(document,"selectstart",n),ut=!0,l&&k(document.body,"user-select","none"))},_onDragOver:function(t){var e,n,r,i,a=this.el,s=t.target,l=this.options,c=l.group,u=It.active,d=nt===c,f=l.sort,h=ot||u,p=this,m=!1;if(!wt){if(void 0!==t.preventDefault&&t.cancelable&&t.preventDefault(),s=v(s,l.draggable,a,!0),W("dragOver"),It.eventCanceled)return m;if(F.contains(t.target)||s.animated&&s.animatingX&&s.animatingY||p._ignoreWhileAnimating===s)return B(!1);if(vt=!1,u&&!l.disabled&&(d?f||(r=!J.contains(F)):ot===this||(this.lastPutMode=nt.checkPull(this,u,F,t))&&c.checkPut(this,u,F,t))){if(i="vertical"===this._getDirection(t,s),e=S(F),W("dragOverValid"),It.eventCanceled)return m;if(r)return z=J,X(),this._hideClone(),W("revert"),It.eventCanceled||(U?J.insertBefore(F,U):J.appendChild(F)),B(!0);var g=L(a,l.draggable);if(!g||function(t,e,n){var o=S(L(n.el,n.options.draggable));return e?t.clientX>o.right+10||t.clientX<=o.right&&t.clientY>o.bottom&&t.clientX>=o.left:t.clientX>o.right&&t.clientY>o.top||t.clientX<=o.right&&t.clientY>o.bottom+10}(t,i,this)&&!g.animated){if(g===F)return B(!1);if(g&&a===t.target&&(s=g),s&&(n=S(s)),!1!==At(J,a,F,e,s,n,t,!!s))return X(),a.appendChild(F),z=a,H(),B(!0)}else if(s.parentNode===a){n=S(s);var y,w,D,T=F.parentNode!==a,j=!function(t,e,n){var o=n?t.left:t.top,r=n?e.left:e.top;return o===r||(n?t.right:t.bottom)===(n?e.right:e.bottom)||o+(n?t.width:t.height)/2===r+(n?e.width:e.height)/2}(F.animated&&F.toRect||e,s.animated&&s.toRect||n,i),C=i?"top":"left",M=E(s,"top","top")||E(F,"top","top"),O=M?M.scrollTop:void 0;if(dt!==s&&(w=n[C],yt=!1,bt=!j&&l.invertSwap||T),0!==(y=function(t,e,n,o,r,i,a,s){var l=o?t.clientY:t.clientX,c=o?n.height:n.width,u=o?n.top:n.left,d=o?n.bottom:n.right,f=!1;if(!a)if(s&&ht<c*r){if(!yt&&(1===ft?l>u+c*i/2:l<d-c*i/2)&&(yt=!0),yt)f=!0;else if(1===ft?l<u+ht:l>d-ht)return-ft}else if(l>u+c*(1-r)/2&&l<d-c*(1-r)/2)return function(t){return x(F)<x(t)?1:-1}(e);return(f=f||a)&&(l<u+c*i/2||l>d-c*i/2)?l>u+c/2?1:-1:0}(t,s,n,i,j?1:l.swapThreshold,null==l.invertedSwapThreshold?l.swapThreshold:l.invertedSwapThreshold,bt,dt===s))){var _=x(F);do{D=z.children[_-=y]}while(D&&("none"===k(D,"display")||D===K))}if(0===y||D===s)return B(!1);dt=s,ft=y;var P=s.nextElementSibling,I=!1,A=At(J,a,F,e,s,n,t,I=1===y);if(!1!==A)return 1!==A&&-1!==A||(I=1===A),wt=!0,setTimeout(Wt,30),X(),I&&!P?a.appendChild(F):s.parentNode.insertBefore(F,I?P:s),M&&N(M,0,O-M.scrollTop),z=F.parentNode,void 0===w||bt||(ht=Math.abs(w-S(s)[C])),H(),B(!0)}if(a.contains(F))return B(!1)}return!1}function W(l,c){R(l,p,o({evt:t,isOwner:d,axis:i?"vertical":"horizontal",revert:r,dragRect:e,targetRect:n,canSort:f,fromSortable:h,target:s,completed:B,onMove:function(n,o){return At(J,a,F,e,n,S(n),t,o)},changed:H},c))}function X(){W("dragOverAnimationCapture"),p.captureAnimationState(),p!==h&&h.captureAnimationState()}function B(e){return W("dragOverCompleted",{insertion:e}),e&&(d?u._hideClone():u._showClone(p),p!==h&&(b(F,ot?ot.options.ghostClass:u.options.ghostClass,!1),b(F,l.ghostClass,!0)),ot!==p&&p!==It.active?ot=p:p===It.active&&ot&&(ot=null),h===p&&(p._ignoreWhileAnimating=s),p.animateAll((function(){W("dragOverAnimationComplete"),p._ignoreWhileAnimating=null})),p!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(s===F&&!F.animated||s===a&&!s.animated)&&(dt=null),l.dragoverBubble||t.rootEl||s===document||(F.parentNode[q]._isOutsideThisEl(t.target),!e&&Nt(t)),!l.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),m=!0}function H(){$=x(F),et=x(F,l.draggable),Y({sortable:p,name:"change",toEl:a,newIndex:$,newDraggableIndex:et,originalEvent:t})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){h(document,"mousemove",this._onTouchMove),h(document,"touchmove",this._onTouchMove),h(document,"pointermove",this._onTouchMove),h(document,"dragover",Nt),h(document,"mousemove",Nt),h(document,"touchmove",Nt)},_offUpEvents:function(){var t=this.el.ownerDocument;h(t,"mouseup",this._onDrop),h(t,"touchend",this._onDrop),h(t,"pointerup",this._onDrop),h(t,"touchcancel",this._onDrop),h(document,"selectstart",this)},_onDrop:function(t){var e=this.el,n=this.options;$=x(F),et=x(F,n.draggable),R("drop",this,{evt:t}),z=F&&F.parentNode,$=x(F),et=x(F,n.draggable),It.eventCanceled||(mt=!1,bt=!1,yt=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Ht(this.cloneId),Ht(this._dragStartId),this.nativeDraggable&&(h(document,"drop",this),h(e,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),l&&k(document.body,"user-select",""),k(F,"transform",""),t&&(ut&&(t.cancelable&&t.preventDefault(),!n.dropBubble&&t.stopPropagation()),K&&K.parentNode&&K.parentNode.removeChild(K),(J===z||ot&&"clone"!==ot.lastPutMode)&&V&&V.parentNode&&V.parentNode.removeChild(V),F&&(this.nativeDraggable&&h(F,"dragend",this),qt(F),F.style["will-change"]="",ut&&!mt&&b(F,ot?ot.options.ghostClass:this.options.ghostClass,!1),b(F,this.options.chosenClass,!1),Y({sortable:this,name:"unchoose",toEl:z,newIndex:null,newDraggableIndex:null,originalEvent:t}),J!==z?($>=0&&(Y({rootEl:z,name:"add",toEl:z,fromEl:J,originalEvent:t}),Y({sortable:this,name:"remove",toEl:z,originalEvent:t}),Y({rootEl:z,name:"sort",toEl:z,fromEl:J,originalEvent:t}),Y({sortable:this,name:"sort",toEl:z,originalEvent:t})),ot&&ot.save()):$!==Z&&$>=0&&(Y({sortable:this,name:"update",toEl:z,originalEvent:t}),Y({sortable:this,name:"sort",toEl:z,originalEvent:t})),It.active&&(null!=$&&-1!==$||($=Z,et=tt),Y({sortable:this,name:"end",toEl:z,originalEvent:t}),this.save())))),this._nulling()},_nulling:function(){R("nulling",this),J=F=z=K=U=V=G=Q=rt=it=ut=$=et=Z=tt=dt=ft=ot=nt=It.dragged=It.ghost=It.clone=It.active=null,Dt.forEach((function(t){t.checked=!0})),Dt.length=at=st=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":F&&(this._onDragOver(t),function(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}(t));break;case"selectstart":t.preventDefault()}},toArray:function(){for(var t,e=[],n=this.el.children,o=0,r=n.length,i=this.options;o<r;o++)v(t=n[o],i.draggable,this.el,!1)&&e.push(t.getAttribute(i.dataIdAttr)||Xt(t));return e},sort:function(t){var e={},n=this.el;this.toArray().forEach((function(t,o){var r=n.children[o];v(r,this.options.draggable,n,!1)&&(e[t]=r)}),this),t.forEach((function(t){e[t]&&(n.removeChild(e[t]),n.appendChild(e[t]))}))},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,e){return v(t,e||this.options.draggable,this.el,!1)},option:function(t,e){var n=this.options;if(void 0===e)return n[t];var o=B.modifyOption(this,t,e);n[t]=void 0!==o?o:e,"group"===t&&Ct(n)},destroy:function(){R("destroy",this);var t=this.el;t[q]=null,h(t,"mousedown",this._onTapStart),h(t,"touchstart",this._onTapStart),h(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(h(t,"dragover",this),h(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),(function(t){t.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),gt.splice(gt.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!Q){if(R("hideClone",this),It.eventCanceled)return;k(V,"display","none"),this.options.removeCloneOnHide&&V.parentNode&&V.parentNode.removeChild(V),Q=!0}},_showClone:function(t){if("clone"===t.lastPutMode){if(Q){if(R("showClone",this),It.eventCanceled)return;F.parentNode!=J||this.options.group.revertClone?U?J.insertBefore(V,U):J.appendChild(V):J.insertBefore(V,F),this.options.group.revertClone&&this.animate(F,V),k(V,"display",""),Q=!1}}else this._hideClone()}},Tt&&f(document,"touchmove",(function(t){(It.active||mt)&&t.cancelable&&t.preventDefault()})),It.utils={on:f,off:h,css:k,find:D,is:function(t,e){return!!v(t,e,t,!1)},extend:function(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},throttle:_,closest:v,toggleClass:b,clone:P,index:x,nextTick:Bt,cancelNextTick:Ht,detectDirection:xt,getChild:j},It.get=function(t){return t[q]},It.mount=function(){var t=[].slice.call(arguments);t[0].constructor===Array&&(t=t[0]),t.forEach((function(t){if(!t.prototype||!t.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not "+{}.toString.call(t);t.utils&&(It.utils=o({},It.utils,t.utils)),B.mount(t)}))},It.create=function(t,e){return new It(t,e)},It.version="1.12.0";var Rt,Yt,Ft,zt,Kt,Jt=[],Ut=[],Gt=!1,Vt=!1,Qt=!1;function Zt(t,e){Ut.forEach((function(n,o){var r=e.children[n.sortableIndex+(t?Number(o):0)];r?e.insertBefore(n,r):e.appendChild(n)}))}function $t(){Jt.forEach((function(t){t!==Ft&&t.parentNode&&t.parentNode.removeChild(t)}))}var te=function(t){var e=t.originalEvent,n=t.putSortable,o=t.dragEl,r=t.dispatchSortableEvent,i=t.unhideGhostForTarget;if(e){var a=n||t.activeSortable;(0,t.hideGhostForTarget)();var s=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,l=document.elementFromPoint(s.clientX,s.clientY);i(),a&&!a.el.contains(l)&&(r("spill"),this.onSpill({dragEl:o,putSortable:n}))}};function ee(){}function ne(){}ee.prototype={startIndex:null,dragStart:function(t){this.startIndex=t.oldDraggableIndex},onSpill:function(t){var e=t.dragEl,n=t.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var o=j(this.sortable.el,this.startIndex,this.options);o?this.sortable.el.insertBefore(e,o):this.sortable.el.appendChild(e),this.sortable.animateAll(),n&&n.animateAll()},drop:te},Object.assign(ee,{pluginName:"revertOnSpill"}),ne.prototype={onSpill:function(t){var e=t.dragEl,n=t.putSortable||this.sortable;n.captureAnimationState(),e.parentNode&&e.parentNode.removeChild(e),n.animateAll()},drop:te},Object.assign(ne,{pluginName:"removeOnSpill"});var oe,re,ie,ae,se,le,ce=[],ue=!1;function de(){ce.forEach((function(t){clearInterval(t.pid)})),ce=[]}function fe(){clearInterval(le)}var he=_((function(t,e,n,o){if(e.scroll){var r,i=(t.touches?t.touches[0]:t).clientX,a=(t.touches?t.touches[0]:t).clientY,s=e.scrollSensitivity,l=e.scrollSpeed,c=T(),u=!1;re!==n&&(re=n,de(),r=e.scrollFn,!0===(oe=e.scroll)&&(oe=M(n,!0)));var d=0,f=oe;do{var h=f,p=S(h),m=p.top,v=p.bottom,g=p.left,y=p.right,b=p.width,w=p.height,D=void 0,E=void 0,j=h.scrollWidth,L=h.scrollHeight,x=k(h),C=h.scrollLeft,O=h.scrollTop;h===c?(D=b<j&&("auto"===x.overflowX||"scroll"===x.overflowX||"visible"===x.overflowX),E=w<L&&("auto"===x.overflowY||"scroll"===x.overflowY||"visible"===x.overflowY)):(D=b<j&&("auto"===x.overflowX||"scroll"===x.overflowX),E=w<L&&("auto"===x.overflowY||"scroll"===x.overflowY));var _=D&&(Math.abs(y-i)<=s&&C+b<j)-(Math.abs(g-i)<=s&&!!C),P=E&&(Math.abs(v-a)<=s&&O+w<L)-(Math.abs(m-a)<=s&&!!O);if(!ce[d])for(var I=0;I<=d;I++)ce[I]||(ce[I]={});ce[d].vx==_&&ce[d].vy==P&&ce[d].el===h||(ce[d].el=h,ce[d].vx=_,ce[d].vy=P,clearInterval(ce[d].pid),0==_&&0==P||(u=!0,ce[d].pid=setInterval(function(){o&&0===this.layer&&It.active._onTouchMove(se);var e=ce[this.layer].vy?ce[this.layer].vy*l:0,n=ce[this.layer].vx?ce[this.layer].vx*l:0;"function"==typeof r&&"continue"!==r.call(It.dragged.parentNode[q],n,e,t,se,ce[this.layer].el)||N(ce[this.layer].el,n,e)}.bind({layer:d}),24))),d++}while(e.bubbleScroll&&f!==c&&(f=M(f,!1)));ue=u}}),30);It.mount(new function(){function t(){for(var t in this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this))}return t.prototype={dragStarted:function(t){var e=t.originalEvent;this.sortable.nativeDraggable?f(document,"dragover",this._handleAutoScroll):f(document,this.options.supportPointer?"pointermove":e.touches?"touchmove":"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var e=t.originalEvent;this.options.dragOverBubble||e.rootEl||this._handleAutoScroll(e)},drop:function(){this.sortable.nativeDraggable?h(document,"dragover",this._handleAutoScroll):(h(document,"pointermove",this._handleFallbackAutoScroll),h(document,"touchmove",this._handleFallbackAutoScroll),h(document,"mousemove",this._handleFallbackAutoScroll)),fe(),de(),clearTimeout(g),g=void 0},nulling:function(){se=re=oe=ue=le=ie=ae=null,ce.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,e){var n=this,o=(t.touches?t.touches[0]:t).clientX,r=(t.touches?t.touches[0]:t).clientY,s=document.elementFromPoint(o,r);if(se=t,e||a||i||l){he(t,this.options,s,e);var c=M(s,!0);!ue||le&&o===ie&&r===ae||(le&&fe(),le=setInterval((function(){var i=M(document.elementFromPoint(o,r),!0);i!==c&&(c=i,de()),he(t,n.options,i,e)}),10),ie=o,ae=r)}else{if(!this.options.bubbleScroll||M(s,!0)===T())return void de();he(t,this.options,M(s,!1),!1)}}},Object.assign(t,{pluginName:"scroll",initializeByDefault:!0})}),It.mount(ne,ee),It.mount(new function(){function t(){this.defaults={swapClass:"sortable-swap-highlight"}}return t.prototype={dragStart:function(t){_t=t.dragEl},dragOverValid:function(t){var e=t.completed,n=t.target,o=t.changed,r=t.cancel;if(t.activeSortable.options.swap){var i=this.options;if(n&&n!==this.sortable.el){var a=_t;!1!==(0,t.onMove)(n)?(b(n,i.swapClass,!0),_t=n):_t=null,a&&a!==_t&&b(a,i.swapClass,!1)}o(),e(!0),r()}},drop:function(t){var e,n,o,r,i,a,s=t.activeSortable,l=t.putSortable,c=t.dragEl,u=l||this.sortable,d=this.options;_t&&b(_t,d.swapClass,!1),_t&&(d.swap||l&&l.options.swap)&&c!==_t&&(u.captureAnimationState(),u!==s&&s.captureAnimationState(),a=(n=_t).parentNode,(i=(e=c).parentNode)&&a&&!i.isEqualNode(n)&&!a.isEqualNode(e)&&(o=x(e),r=x(n),i.isEqualNode(a)&&o<r&&r++,i.insertBefore(n,i.children[o]),a.insertBefore(e,a.children[r])),u.animateAll(),u!==s&&s.animateAll())},nulling:function(){_t=null}},Object.assign(t,{pluginName:"swap",eventProperties:function(){return{swapItem:_t}}})}),It.mount(new function(){function t(t){for(var e in this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this));t.options.supportPointer?f(document,"pointerup",this._deselectMultiDrag):(f(document,"mouseup",this._deselectMultiDrag),f(document,"touchend",this._deselectMultiDrag)),f(document,"keydown",this._checkKeyDown),f(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(e,n){var o="";Jt.length&&Yt===t?Jt.forEach((function(t,e){o+=(e?", ":"")+t.textContent})):o=n.textContent,e.setData("Text",o)}}}return t.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(t){Ft=t.dragEl},delayEnded:function(){this.isMultiDrag=~Jt.indexOf(Ft)},setupClone:function(t){var e=t.sortable,n=t.cancel;if(this.isMultiDrag){for(var o=0;o<Jt.length;o++)Ut.push(P(Jt[o])),Ut[o].sortableIndex=Jt[o].sortableIndex,Ut[o].draggable=!1,Ut[o].style["will-change"]="",b(Ut[o],this.options.selectedClass,!1),Jt[o]===Ft&&b(Ut[o],this.options.chosenClass,!1);e._hideClone(),n()}},clone:function(t){var e=t.dispatchSortableEvent,n=t.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||Jt.length&&Yt===t.sortable&&(Zt(!0,t.rootEl),e("clone"),n()))},showClone:function(t){var e=t.cloneNowShown,n=t.cancel;this.isMultiDrag&&(Zt(!1,t.rootEl),Ut.forEach((function(t){k(t,"display","")})),e(),Kt=!1,n())},hideClone:function(t){var e=this,n=t.cloneNowHidden,o=t.cancel;this.isMultiDrag&&(Ut.forEach((function(t){k(t,"display","none"),e.options.removeCloneOnHide&&t.parentNode&&t.parentNode.removeChild(t)})),n(),Kt=!0,o())},dragStartGlobal:function(t){!this.isMultiDrag&&Yt&&Yt.multiDrag._deselectMultiDrag(),Jt.forEach((function(t){t.sortableIndex=x(t)})),Jt=Jt.sort((function(t,e){return t.sortableIndex-e.sortableIndex})),Qt=!0},dragStarted:function(t){var e=this,n=t.sortable;if(this.isMultiDrag){if(this.options.sort&&(n.captureAnimationState(),this.options.animation)){Jt.forEach((function(t){t!==Ft&&k(t,"position","absolute")}));var o=S(Ft,!1,!0,!0);Jt.forEach((function(t){t!==Ft&&I(t,o)})),Vt=!0,Gt=!0}n.animateAll((function(){Vt=!1,Gt=!1,e.options.animation&&Jt.forEach((function(t){A(t)})),e.options.sort&&$t()}))}},dragOver:function(t){var e=t.completed,n=t.cancel;Vt&&~Jt.indexOf(t.target)&&(e(!1),n())},revert:function(t){var e=t.fromSortable,n=t.rootEl,o=t.sortable,r=t.dragRect;Jt.length>1&&(Jt.forEach((function(t){o.addAnimationState({target:t,rect:Vt?S(t):r}),A(t),t.fromRect=r,e.removeAnimationState(t)})),Vt=!1,function(t,e){Jt.forEach((function(n,o){var r=e.children[n.sortableIndex+(t?Number(o):0)];r?e.insertBefore(n,r):e.appendChild(n)}))}(!this.options.removeCloneOnHide,n))},dragOverCompleted:function(t){var e=t.sortable,n=t.isOwner,o=t.activeSortable,r=t.parentEl,i=t.putSortable,a=this.options;if(t.insertion){if(n&&o._hideClone(),Gt=!1,a.animation&&Jt.length>1&&(Vt||!n&&!o.options.sort&&!i)){var s=S(Ft,!1,!0,!0);Jt.forEach((function(t){t!==Ft&&(I(t,s),r.appendChild(t))})),Vt=!0}if(!n)if(Vt||$t(),Jt.length>1){var l=Kt;o._showClone(e),o.options.animation&&!Kt&&l&&Ut.forEach((function(t){o.addAnimationState({target:t,rect:zt}),t.fromRect=zt,t.thisAnimationDuration=null}))}else o._showClone(e)}},dragOverAnimationCapture:function(t){var e=t.dragRect,n=t.isOwner,o=t.activeSortable;if(Jt.forEach((function(t){t.thisAnimationDuration=null})),o.options.animation&&!n&&o.multiDrag.isMultiDrag){zt=Object.assign({},e);var r=w(Ft,!0);zt.top-=r.f,zt.left-=r.e}},dragOverAnimationComplete:function(){Vt&&(Vt=!1,$t())},drop:function(t){var e=t.originalEvent,n=t.rootEl,o=t.parentEl,r=t.sortable,i=t.dispatchSortableEvent,a=t.oldIndex,s=t.putSortable,l=s||this.sortable;if(e){var c=this.options,u=o.children;if(!Qt)if(c.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),b(Ft,c.selectedClass,!~Jt.indexOf(Ft)),~Jt.indexOf(Ft))Jt.splice(Jt.indexOf(Ft),1),Rt=null,H({sortable:r,rootEl:n,name:"deselect",targetEl:Ft,originalEvt:e});else{if(Jt.push(Ft),H({sortable:r,rootEl:n,name:"select",targetEl:Ft,originalEvt:e}),e.shiftKey&&Rt&&r.el.contains(Rt)){var d,f,h=x(Rt),p=x(Ft);if(~h&&~p&&h!==p)for(p>h?(f=h,d=p):(f=p,d=h+1);f<d;f++)~Jt.indexOf(u[f])||(b(u[f],c.selectedClass,!0),Jt.push(u[f]),H({sortable:r,rootEl:n,name:"select",targetEl:u[f],originalEvt:e}))}else Rt=Ft;Yt=l}if(Qt&&this.isMultiDrag){if((o[q].options.sort||o!==n)&&Jt.length>1){var m=S(Ft),v=x(Ft,":not(."+this.options.selectedClass+")");if(!Gt&&c.animation&&(Ft.thisAnimationDuration=null),l.captureAnimationState(),!Gt&&(c.animation&&(Ft.fromRect=m,Jt.forEach((function(t){if(t.thisAnimationDuration=null,t!==Ft){var e=Vt?S(t):m;t.fromRect=e,l.addAnimationState({target:t,rect:e})}}))),$t(),Jt.forEach((function(t){u[v]?o.insertBefore(t,u[v]):o.appendChild(t),v++})),a===x(Ft))){var g=!1;Jt.forEach((function(t){t.sortableIndex===x(t)||(g=!0)})),g&&i("update")}Jt.forEach((function(t){A(t)})),l.animateAll()}Yt=l}(n===o||s&&"clone"!==s.lastPutMode)&&Ut.forEach((function(t){t.parentNode&&t.parentNode.removeChild(t)}))}},nullingGlobal:function(){this.isMultiDrag=Qt=!1,Ut.length=0},destroyGlobal:function(){this._deselectMultiDrag(),h(document,"pointerup",this._deselectMultiDrag),h(document,"mouseup",this._deselectMultiDrag),h(document,"touchend",this._deselectMultiDrag),h(document,"keydown",this._checkKeyDown),h(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(t){if(!(void 0!==Qt&&Qt||Yt!==this.sortable||t&&v(t.target,this.options.draggable,this.sortable.el,!1)||t&&0!==t.button))for(;Jt.length;){var e=Jt[0];b(e,this.options.selectedClass,!1),Jt.shift(),H({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:e,originalEvt:t})}},_checkKeyDown:function(t){t.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(t){t.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},Object.assign(t,{pluginName:"multiDrag",utils:{select:function(t){var e=t.parentNode[q];e&&e.options.multiDrag&&!~Jt.indexOf(t)&&(Yt&&Yt!==e&&(Yt.multiDrag._deselectMultiDrag(),Yt=e),b(t,e.options.selectedClass,!0),Jt.push(t))},deselect:function(t){var e=t.parentNode[q],n=Jt.indexOf(t);e&&e.options.multiDrag&&~n&&(b(t,e.options.selectedClass,!1),Jt.splice(n,1))}},eventProperties:function(){var t=this,e=[],n=[];return Jt.forEach((function(o){var r;e.push({multiDragElement:o,index:o.sortableIndex}),r=Vt&&o!==Ft?-1:Vt?x(o,":not(."+t.options.selectedClass+")"):x(o),n.push({multiDragElement:o,index:r})})),{items:[].concat(Jt),clones:[].concat(Ut),oldIndicies:e,newIndicies:n}},optionListeners:{multiDragKey:function(t){return"ctrl"===(t=t.toLowerCase())?t="Control":t.length>1&&(t=t.charAt(0).toUpperCase()+t.substr(1)),t}}})});var pe=It,me=n(0),ve=n.n(me);function ge(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function ye(t){ge(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||"object"==typeof t&&"[object Date]"===e?new Date(t.getTime()):"number"==typeof t||"[object Number]"===e?new Date(t):("string"!=typeof t&&"[object String]"!==e||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}function be(t){ge(1,arguments);var e=ye(t);return e.setHours(0,0,0,0),e}function ke(t,e){ge(2,arguments);var n=be(t),o=be(e);return n.getTime()===o.getTime()}function we(t){return ge(1,arguments),ke(t,Date.now())}function De(t){if(null===t||!0===t||!1===t)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function Te(t,e){ge(2,arguments);var n=ye(t),o=De(e);return isNaN(o)?new Date(NaN):o?(n.setDate(n.getDate()+o),n):n}function Se(t,e){ge(2,arguments);var n=e||{},o=ye(t).getTime(),r=ye(n.start).getTime(),i=ye(n.end).getTime();if(!(r<=i))throw new RangeError("Invalid interval");return o>=r&&o<=i}function Ee(t,e){ge(2,arguments);var n=ye(t).getTime(),o=De(e);return new Date(n+o)}function je(t,e){ge(2,arguments);var n=De(e);return Ee(t,6e4*n)}function Le(t){return function(t){if(Array.isArray(t))return xe(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return xe(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xe(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xe(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function Ce(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Me=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.tasks=[]}var e,n,o;return e=t,(n=[{key:"addTask",value:function(t,e,n,o,r,i){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"",s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];null===t&&(t=ve()());var l={id:t,title:e,description:n,dueDate:o,priority:r,projectName:i,notes:a,isDone:s};return this.tasks.push(l),l}},{key:"removeTask",value:function(t){var e=this.tasks.findIndex((function(e){return e.id===t}));this.tasks.splice(e,1)}},{key:"getNumTasks",value:function(){return this.tasks.length}},{key:"getTask",value:function(t){var e=this.tasks.findIndex((function(e){return e.id===t}));return this.tasks[e]}},{key:"editTask",value:function(t,e,n,o,r,i,a){var s=this.getTask(t);s.title=e,s.description=n,s.dueDate=o,s.priority=r,s.projectName=i,s.notes=a}},{key:"changeDoneStatus",value:function(t,e){this.getTask(t).isDone=e}},{key:"moveTaskToEnd",value:function(t){var e=this.tasks.findIndex((function(e){return e.id===t}));this.tasks.push(this.tasks.splice(e,1)[0])}},{key:"restoreTheTask",value:function(t){var e=this.getTask(t);this.removeTask(t),this.tasks.unshift(e)}},{key:"rearrangeTasks",value:function(t){var e=this,n=Le(this.tasks);this.tasks.length=0,t.forEach((function(t){var o=n.findIndex((function(e){return e.id===t})),r=n[o];e.tasks.push(r)}))}},{key:"getTodayTasks",value:function(){var t=[],e=(new Date).getTimezoneOffset();return this.tasks.forEach((function(n){var o=new Date(n.dueDate);we(o=je(o,e))&&t.push(n)})),t}},{key:"getWeekTasks",value:function(){var t=new Date,e=t.getTimezoneOffset(),n=Te(t,7),o=[];return this.tasks.forEach((function(r){var i=new Date(r.dueDate);Se(i=je(i,e),{start:t,end:n})&&o.push(r)})),o}},{key:"isDueToday",value:function(t){var e=(new Date).getTimezoneOffset();return we(t=je(t=new Date(t),e))}},{key:"isDueThisWeek",value:function(t){var e=new Date,n=e.getTimezoneOffset(),o=Te(e,7);return Se(t=je(t=new Date(t),n),{start:e,end:o})}}])&&Ce(e.prototype,n),o&&Ce(e,o),t}();function Oe(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var _e=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.projects=[]}var e,n,o;return e=t,(n=[{key:"addProject",value:function(t){var e={id:ve()(),name:t,taskList:new Me};return this.projects.push(e),this.persistData(),e}},{key:"removeProject",value:function(t){var e=this.projects.findIndex((function(e){return e.id===t}));this.projects.splice(e,1),this.persistData()}},{key:"persistData",value:function(){localStorage.setItem("projects",JSON.stringify(this.projects))}},{key:"readStorage",value:function(){var t=JSON.parse(localStorage.getItem("projects"));t&&(this.projects=t)}},{key:"getNumProjects",value:function(){return this.projects.length}},{key:"getProject",value:function(t){var e=this.projects.findIndex((function(e){return e.id===t}));return this.projects[e]}},{key:"remakeTaskList",value:function(t){var e=new Me;return e.tasks=t.tasks,e}},{key:"getTaskList",value:function(t){var e=this.getProject(t);return this.remakeTaskList(e.taskList)}},{key:"getNumTasks",value:function(t){return this.getTaskList(t).getNumTasks()}},{key:"getProjectNames",value:function(){return this.projects.map((function(t){return t.name}))}},{key:"getProjectID",value:function(t){var e=this.projects.findIndex((function(e){return e.name===t}));return this.projects[e].id}},{key:"renameProject",value:function(t,e){this.getProject(t).name=e,this.persistData()}}])&&Oe(e.prototype,n),o&&Oe(e,o),t}();function Ne(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Pe=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.order=[]}var e,n,o;return e=t,(n=[{key:"persistData",value:function(){localStorage.setItem("todayOrder",JSON.stringify(this.order))}},{key:"readStorage",value:function(){var t=JSON.parse(localStorage.getItem("todayOrder"));t&&(this.order=t)}},{key:"updateOrder",value:function(t){this.order=t,this.persistData()}},{key:"rearrangeTasks",value:function(t){var e=this;if(0===this.order.length)return t.forEach((function(t){return e.order.push(t.id)})),this.persistData(),t;var n=[];return this.order.forEach((function(e){var o=t.findIndex((function(t){return t.id===e})),r=t[o];n.push(r)})),n}},{key:"moveTaskToEnd",value:function(t){var e=this.order.findIndex((function(e){return e===t}));this.order.push(this.order.splice(e,1)[0]),this.persistData()}},{key:"restoreTask",value:function(t){var e=this.order.findIndex((function(e){return e===t}));this.order.unshift(this.order.splice(e,1)[0]),this.persistData()}},{key:"addTask",value:function(t){this.order.push(t),this.persistData()}},{key:"removeTask",value:function(t){var e=this.order.findIndex((function(e){return e===t}));this.order.splice(e,1),this.persistData()}}])&&Ne(e.prototype,n),o&&Ne(e,o),t}();function Ie(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Ae=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.order=[]}var e,n,o;return e=t,(n=[{key:"persistData",value:function(){localStorage.setItem("weekOrder",JSON.stringify(this.order))}},{key:"readStorage",value:function(){var t=JSON.parse(localStorage.getItem("weekOrder"));t&&(this.order=t)}},{key:"updateOrder",value:function(t){this.order=t,this.persistData()}},{key:"rearrangeTasks",value:function(t){var e=this;if(0===this.order.length)return t.forEach((function(t){return e.order.push(t.id)})),this.persistData(),t;var n=[];return this.order.forEach((function(e){var o=t.findIndex((function(t){return t.id===e})),r=t[o];n.push(r)})),n}},{key:"moveTaskToEnd",value:function(t){var e=this.order.findIndex((function(e){return e===t}));this.order.push(this.order.splice(e,1)[0]),this.persistData()}},{key:"restoreTask",value:function(t){var e=this.order.findIndex((function(e){return e===t}));this.order.unshift(this.order.splice(e,1)[0]),this.persistData()}},{key:"addTask",value:function(t){this.order.push(t),this.persistData()}},{key:"removeTask",value:function(t){var e=this.order.findIndex((function(e){return e===t}));this.order.splice(e,1),this.persistData()}}])&&Ie(e.prototype,n),o&&Ie(e,o),t}(),qe={projectList:document.getElementById("project-list"),addProjectBtn:document.getElementById("add-proj-btn"),modal:document.querySelector(".modal"),modalContent:document.querySelector(".modal-content"),addTaskBtn:document.getElementById("add-button"),mainContent:document.querySelector(".main-content-container"),mainTitle:document.querySelector(".proj-title"),titleBtns:document.querySelector(".edit-btns"),taskList:document.querySelector(".task-list-container"),todayShortcut:document.querySelector("#today-container"),weekShortcut:document.querySelector("#week-container"),todayCount:document.getElementById("today-task-num"),weekCount:document.getElementById("week-task-num")},We=function(t){var e='\n    <div class="project-item-container" data-projectid="'.concat(t.id,'">\n        <div class="view-1">\n            <i class="fas fa-chevron-right"></i>\n            <div class="click-proj">\n                <div class="shortcut-text proj-name">').concat(t.name,"</div>\n                ").concat(Xe(t.taskList.tasks,t.id),'\n            </div>\n        </div>\n\n        <div class="view-2" data-viewid="').concat(t.id,'"></div>\n    </div>\n    ');qe.projectList.insertAdjacentHTML("beforeend",e)},Xe=function(t,e){var n=t.length;return n>0?'\n            <div class="task-num-style proj-task-num" data-countid="'.concat(e,'">').concat(n,"</div>\n        "):'\n        <div class="task-num-style proj-task-num" data-countid="'.concat(e,'" style="visibility: hidden;">').concat(n,"</div>\n    ")},Be=function(t,e){var n=document.querySelector('[data-countid="'.concat(e,'"]')),o=t.length;n.textContent=o,n.style.visibility=o>0?"visible":"hidden"},He=function(t,e){var n=document.querySelector('[data-viewid="'.concat(e,'"]'));n.innerHTML="",t.forEach((function(t){var e='\n        <div class="proj-items shortcut-text '.concat(Re(t.priority,t.isDone),'" data-taskid="').concat(t.id,'">').concat(t.title,"</div>\n        ");n.insertAdjacentHTML("beforeend",e)}))},Re=function(t,e){var n="";return e&&(n+="finished "),"high"===t?n+="danger":"medium"===t&&(n+="primary"),n},Ye=function(t){return""!==document.querySelector('[data-viewid="'.concat(t,'"]')).innerHTML},Fe=function(t){document.querySelector('[data-viewid="'.concat(t,'"]')).innerHTML=""},ze=function(t){qe.projectList.innerHTML="",t.forEach((function(t){return We(t)}))},Ke=function(t){t.classList.toggle("rotate")},Je=function(t){Ue();var e=t.querySelector(".proj-name"),n=t.querySelector(".proj-task-num");t.classList.add("highlight"),e.classList.add("bold"),n.classList.add("bold")},Ue=function(){var t=Array.from(document.querySelectorAll(".click-proj")),e=Array.from(document.querySelectorAll(".proj-name")),n=Array.from(document.querySelectorAll(".proj-task-num"));t.forEach((function(t){return t.classList.remove("highlight")})),e.forEach((function(t){return t.classList.remove("bold")})),n.forEach((function(t){return t.classList.remove("bold")}))},Ge=function(t){Ve();var e=qe.projectList.querySelector('[data-taskid="'.concat(t,'"]'));e.classList.add("bold"),e.classList.add("highlight")},Ve=function(){var t=Array.from(qe.projectList.querySelectorAll(".proj-items"));t.forEach((function(t){return t.classList.remove("bold")})),t.forEach((function(t){return t.classList.remove("highlight")}))},Qe=function(t,e){qe.modal.style.visibility="visible",qe.modalContent.innerHTML='\n    <form id="add-proj-form">\n        '.concat(tn(t,e),'\n        <div class="btn-container">\n            <input type="button" class="cancel-btn" value="Cancel">\n            <input type="submit" class="submit-btn" value="Submit">\n        </div>\n    </form>\n    '),document.querySelector(".cancel-btn").addEventListener("click",Ze),window.addEventListener("click",(function(t){t.target.matches(".modal")&&Ze()}))},Ze=function(){qe.modal.style.visibility="hidden"},$e=function(){return document.querySelector(".proj-name-input").value},tn=function(t,e){return"add"===t?'<input type="text" class="proj-name-input" placeholder="Project Name"></input>':'<input type="text" class="proj-name-input" placeholder="Project Name" value="'.concat(e,'"></input>')},en=function(){var t=document.querySelector(".submit-btn");""!==document.querySelector(".proj-name-input").value?t.setAttribute("style","opacity: 1; border: 1.75px solid #5898DD;"):t.setAttribute("style","opacity: 0.25")},nn=function(t,e,n){qe.modal.style.visibility="visible",qe.modalContent.innerHTML=sn(t,e,n),document.querySelector(".cancel-btn").addEventListener("click",on),window.addEventListener("click",(function(t){t.target.matches(".modal")&&on()}))},on=function(){qe.modal.style.visibility="hidden"},rn=function(){var t=document.querySelector("#select-priority"),e=document.querySelector("#select-project");return{title:document.querySelector("#task-title").value,description:document.querySelector("#task-description").value,dueDate:document.querySelector("#task-due-date").value,priority:t.options[t.selectedIndex].value,project:e.options[e.selectedIndex].value,notes:document.querySelector("#task-form-notes").value}},an=function(){var t=document.querySelector("#select-priority"),e=document.querySelector("#select-project"),n=document.querySelector(".submit-btn"),o=document.querySelector("#task-title").value,r=document.querySelector("#task-due-date").value,i=t.options[t.selectedIndex].value,a=e.options[e.selectedIndex].value;""!==o&&""!==r&&""!==i&&""!==a?n.setAttribute("style","opacity: 1; border: 1.75px solid #5898DD;"):n.setAttribute("style","opacity: 0.25")},sn=function(t,e,n){return"add"===t?'\n        <form class="add-task-form">\n            <input id="task-title" type="text" placeholder="Task Title" required>\n            <div class="task-form-spacing">\n                <input id="task-description" type="text" placeholder="Description">\n            </div>\n            <div class="task-form-spacing">\n                <input id="task-due-date" type="date" required>\n            </div>\n            <div class="task-form-spacing">\n                <select id="select-priority" name="priority" required>\n                    <option value="" hidden disabled selected>Priority</option>\n                    <option value="high">High</option>\n                    <option value="medium">Medium</option>\n                    <option value="low">Low</option>\n                </select>\n            </div>\n            <div class="task-form-spacing">\n                <select id="select-project" name="project" required>\n                    '.concat(cn(e),'\n                </select>\n            </div>\n            <div class="task-form-spacing">\n                <textarea id="task-form-notes" name="notes" placeholder="Notes" rows="5" cols="50"></textarea>\n            </div>\n            <div class="btn-container-2">\n                <input type="button" class="cancel-btn" value="Cancel">\n                <input type="submit" class="submit-btn" value="Submit">\n            </div>\n        </form>\n        '):'\n        <form class="add-task-form">\n            <input id="task-title" type="text" placeholder="Task Title" value="'.concat(n.title,'" required>\n            <div class="task-form-spacing">\n                <input id="task-description" type="text" placeholder="Description" value="').concat(n.description,'">\n            </div>\n            <div class="task-form-spacing">\n                <input id="task-due-date" type="date" value="').concat(n.dueDate,'" required>\n            </div>\n            <div class="task-form-spacing">\n                <select id="select-priority" name="priority" required>\n                    ').concat(ln(n.priority),'\n                </select>\n            </div>\n            <div class="task-form-spacing">\n                <select id="select-project" name="project" required>\n                    ').concat(cn(e,n.projectName),'\n                </select>\n            </div>\n            <div class="task-form-spacing">\n                <textarea id="task-form-notes" name="notes" placeholder="Notes" rows="5" cols="50" value="').concat(n.notes,'">').concat(n.notes,'</textarea>\n            </div>\n            <div class="btn-container-2">\n                <input type="button" class="cancel-btn" value="Cancel">\n                <input type="submit" class="submit-btn" value="Submit">\n            </div>\n        </form>\n        ')},ln=function(t){return"high"===t?'\n        <option value="high" selected>High</option>\n        <option value="medium">Medium</option>\n        <option value="low">Low</option>\n        ':"medium"===t?'\n        <option value="high">High</option>\n        <option value="medium" selected>Medium</option>\n        <option value="low">Low</option>\n        ':'\n        <option value="high">High</option>\n        <option value="medium">Medium</option>\n        <option value="low" selected>Low</option>\n        '},cn=function(t,e){var n;if(void 0===e){var o=qe.mainTitle.textContent;n=t.includes(o)?"\n            ".concat(un(t,o),"\n            "):'\n            <option value="" hidden disabled selected>Select Project</option>\n            '.concat(un(t),"\n            ")}else n="\n        ".concat(un(t,e),"\n        ");return n},un=function(t,e){var n="";if(void 0===e)for(var o=0;o<t.length;o++)n+='<option value="'.concat(t[o],'">').concat(t[o],"</option>");else for(var r=0;r<t.length;r++)t[r]===e?n+='<option value="'.concat(t[r],'" selected>').concat(t[r],"</option>"):n+='<option value="'.concat(t[r],'">').concat(t[r],"</option>");return n};function dn(t,e){ge(2,arguments);var n=De(e);return Te(t,-n)}function fn(t,e){ge(2,arguments);var n=ye(t),o=ye(e),r=n.getTime()-o.getTime();return r<0?-1:r>0?1:r}function hn(t,e){ge(2,arguments);var n=ye(t),o=ye(e),r=n.getFullYear()-o.getFullYear(),i=n.getMonth()-o.getMonth();return 12*r+i}function pn(t,e){ge(2,arguments);var n=ye(t),o=ye(e),r=fn(n,o),i=Math.abs(hn(n,o));n.setMonth(n.getMonth()-r*i);var a=fn(n,o)===-r,s=r*(i-a);return 0===s?0:s}function mn(t,e){ge(2,arguments);var n=ye(t),o=ye(e);return n.getTime()-o.getTime()}function vn(t,e){ge(2,arguments);var n=mn(t,e)/1e3;return n>0?Math.floor(n):Math.ceil(n)}var gn={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function yn(t){return function(e){var n=e||{},o=n.width?String(n.width):t.defaultWidth;return t.formats[o]||t.formats[t.defaultWidth]}}var bn={date:yn({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:yn({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:yn({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},kn={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function wn(t){return function(e,n){var o,r=n||{};if("formatting"===(r.context?String(r.context):"standalone")&&t.formattingValues){var i=t.defaultFormattingWidth||t.defaultWidth,a=r.width?String(r.width):i;o=t.formattingValues[a]||t.formattingValues[i]}else{var s=t.defaultWidth,l=r.width?String(r.width):t.defaultWidth;o=t.values[l]||t.values[s]}return o[t.argumentCallback?t.argumentCallback(e):e]}}function Dn(t){return function(e,n){var o=String(e),r=n||{},i=r.width,a=i&&t.matchPatterns[i]||t.matchPatterns[t.defaultMatchWidth],s=o.match(a);if(!s)return null;var l,c=s[0],u=i&&t.parsePatterns[i]||t.parsePatterns[t.defaultParseWidth];return l="[object Array]"===Object.prototype.toString.call(u)?function(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}(u,(function(t){return t.test(c)})):function(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}(u,(function(t){return t.test(c)})),l=t.valueCallback?t.valueCallback(l):l,{value:l=r.valueCallback?r.valueCallback(l):l,rest:o.slice(c.length)}}}var Tn,Sn={code:"en-US",formatDistance:function(t,e,n){var o;return n=n||{},o="string"==typeof gn[t]?gn[t]:1===e?gn[t].one:gn[t].other.replace("{{count}}",e),n.addSuffix?n.comparison>0?"in "+o:o+" ago":o},formatLong:bn,formatRelative:function(t,e,n,o){return kn[t]},localize:{ordinalNumber:function(t,e){var n=Number(t),o=n%100;if(o>20||o<10)switch(o%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:wn({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:wn({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(t){return Number(t)-1}}),month:wn({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:wn({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:wn({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(Tn={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(t){return parseInt(t,10)}},function(t,e){var n=String(t),o=e||{},r=n.match(Tn.matchPattern);if(!r)return null;var i=r[0],a=n.match(Tn.parsePattern);if(!a)return null;var s=Tn.valueCallback?Tn.valueCallback(a[0]):a[0];return{value:s=o.valueCallback?o.valueCallback(s):s,rest:n.slice(i.length)}}),era:Dn({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:Dn({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Dn({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:Dn({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:Dn({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};function En(t){return function(t,e){if(null==t)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in e=e||{})e.hasOwnProperty(n)&&(t[n]=e[n]);return t}({},t)}function jn(t){return t.getTime()%6e4}function Ln(t){var e=new Date(t.getTime()),n=Math.ceil(e.getTimezoneOffset());return e.setSeconds(0,0),6e4*n+(n>0?(6e4+jn(e))%6e4:jn(e))}function xn(t,e,n){ge(2,arguments);var o=n||{},r=o.locale||Sn;if(!r.formatDistance)throw new RangeError("locale must contain formatDistance property");var i=fn(t,e);if(isNaN(i))throw new RangeError("Invalid time value");var a,s,l=En(o);l.addSuffix=Boolean(o.addSuffix),l.comparison=i,i>0?(a=ye(e),s=ye(t)):(a=ye(t),s=ye(e));var c,u=vn(s,a),d=(Ln(s)-Ln(a))/1e3,f=Math.round((u-d)/60);if(f<2)return o.includeSeconds?u<5?r.formatDistance("lessThanXSeconds",5,l):u<10?r.formatDistance("lessThanXSeconds",10,l):u<20?r.formatDistance("lessThanXSeconds",20,l):u<40?r.formatDistance("halfAMinute",null,l):u<60?r.formatDistance("lessThanXMinutes",1,l):r.formatDistance("xMinutes",1,l):0===f?r.formatDistance("lessThanXMinutes",1,l):r.formatDistance("xMinutes",f,l);if(f<45)return r.formatDistance("xMinutes",f,l);if(f<90)return r.formatDistance("aboutXHours",1,l);if(f<1440){var h=Math.round(f/60);return r.formatDistance("aboutXHours",h,l)}if(f<2520)return r.formatDistance("xDays",1,l);if(f<43200){var p=Math.round(f/1440);return r.formatDistance("xDays",p,l)}if(f<86400)return c=Math.round(f/43200),r.formatDistance("aboutXMonths",c,l);if((c=pn(s,a))<12){var m=Math.round(f/43200);return r.formatDistance("xMonths",m,l)}var v=c%12,g=Math.floor(c/12);return v<3?r.formatDistance("aboutXYears",g,l):v<9?r.formatDistance("overXYears",g,l):r.formatDistance("almostXYears",g+1,l)}var Cn=function(t){qe.titleBtns.innerHTML="",qe.mainTitle.textContent=t,qe.titleBtns.innerHTML='\n    <i class="far fa-edit proj-edit-btn"></i>\n    <i class="far fa-trash-alt proj-trash-btn"></i>\n    '},Mn=function(t,e){qe.taskList.innerHTML="",t.forEach((function(t){var n='\n        <div class="tasks underline-gray '.concat(qn(t.isDone),'" data-taskid="').concat(t.id,'" data-projectname="').concat(t.projectName,'">\n            <div class="tasks-left ').concat(An(t.isDone),'">\n\n                <div class="pretty p-default p-round">\n                    <input type="checkbox" class="checkbox" ').concat(In(t.isDone),'>\n                    <div class="state ').concat(Wn(t.priority),'">\n                        <label></label>\n                    </div>\n                </div>\n\n                <p class="task-name shortcut-text ').concat(Xn(t.priority),'">').concat(t.title,'</p>\n                <div class="time-remaining ').concat(An(t.isDone),'">Due ').concat(_n(t.dueDate),'</div>\n            </div>\n            <div class="tasks-right">\n                ').concat(On(e,t.projectName),'\n                <i class="far fa-edit task-edit-btn"></i>\n                <i class="far fa-trash-alt task-trash-btn"></i>\n            </div>\n        </div>\n        ');qe.taskList.insertAdjacentHTML("beforeend",n)}))},On=function(t,e){var n="";return t&&(n='<p class="task-proj-name">'.concat(e,"</p>")),n},_n=function(t){var e=je(new Date(t),(new Date).getTimezoneOffset());return we(e)?"Today":function(t){return ge(1,arguments),ke(t,Te(Date.now(),1))}(e)?"Tomorrow":function(t){return ge(1,arguments),ke(t,dn(Date.now(),1))}(e)?"Yesterday":function(t,e){return ge(1,arguments),xn(t,Date.now(),e)}(e,{addSuffix:!0})},Nn=function(){qe.taskList.innerHTML=""},Pn=function(t){var e=qe.taskList.querySelector('[data-taskid="'.concat(t,'"]'));e.parentElement.removeChild(e)},In=function(t){var e="";return t&&(e="checked"),e},An=function(t){var e="";return t&&(e="finished"),e},qn=function(t){var e="";return t&&(e="done"),e},Wn=function(t){var e="";return"high"===t?e="p-danger-o":"medium"===t&&(e="p-primary-o"),e},Xn=function(t){var e="";return"high"===t?e="danger":"medium"===t&&(e="primary"),e},Bn=function(t){Hn();var e=qe.taskList.querySelector('[data-taskid="'.concat(t,'"]')),n=e.querySelector(".task-name"),o=e.querySelector(".time-remaining");e.classList.add("highlight-task"),n.classList.add("bold"),o.classList.add("bold")},Hn=function(){var t=Array.from(document.querySelectorAll(".tasks")),e=Array.from(document.querySelectorAll(".task-name")),n=Array.from(document.querySelectorAll(".time-remaining"));t.forEach((function(t){return t.classList.remove("highlight-task")})),e.forEach((function(t){return t.classList.remove("bold")})),n.forEach((function(t){return t.classList.remove("bold")}))},Rn=function(t,e){var n,o=[];return t.projects.forEach((function(r){var i=t.getTaskList(r.id);"today"===e?n=i.getTodayTasks():"week"===e&&(n=i.getWeekTasks()),n.length>0&&n.forEach((function(t){return o.push(t)}))})),o},Yn=function(t,e){return Rn(t,e).length},Fn=function(t,e){if(0!==t.order.length){var n=Rn(e,"today").map((function(t){return t.id})),o=[];t.order.forEach((function(t){n.includes(t)&&o.push(t)})),n.forEach((function(t){o.includes(t)||o.push(t)})),t.updateOrder(o)}},zn=function(t,e){if(0!==t.order.length){var n=Rn(e,"week").map((function(t){return t.id})),o=[];t.order.forEach((function(t){n.includes(t)&&o.push(t)})),n.forEach((function(t){o.includes(t)||o.push(t)})),t.updateOrder(o)}},Kn=function(t){qe.titleBtns.innerHTML="",qe.mainTitle.textContent="today"===t?"Today":"Next 7 Days"},Jn=function(t,e){qe.todayCount.textContent=t,qe.weekCount.textContent=e,qe.todayCount.style.visibility=t>0?"visible":"hidden",qe.weekCount.style.visibility=e>0?"visible":"hidden"},Un=function(t,e,n){var o;"today"===e?o=t.target.closest("#today-container"):"week"===e&&(o=t.target.closest("#week-container"));var r=o.querySelector(".title-text"),i=o.querySelector(".task-num-style");n?(r.classList.add("hover"),i.classList.add("hover")):(r.classList.remove("hover"),i.classList.remove("hover"))},Gn=function(t){Vn();var e=t.querySelector(".title-text"),n=t.querySelector(".task-num-style");t.classList.add("highlight"),e.classList.add("bold"),n.classList.add("bold")},Vn=function(){Array.from(document.querySelectorAll(".title-text")).forEach((function(t){return t.classList.remove("bold")})),qe.todayCount.classList.remove("bold"),qe.weekCount.classList.remove("bold"),qe.todayShortcut.classList.remove("highlight"),qe.weekShortcut.classList.remove("highlight")},Qn={};window.addEventListener("load",(function(){if(Qn.projectList||(Qn.projectList=new _e),Qn.todayOrder||(Qn.todayOrder=new Pe),Qn.weekOrder||(Qn.weekOrder=new Ae),Qn.moveableTaskList||(Qn.moveableTaskList=new pe(qe.taskList,{animation:200,filter:".done",onUpdate:function(){yo()}})),Qn.projectList.readStorage(),Qn.todayOrder.readStorage(),Qn.weekOrder.readStorage(),Fn(Qn.todayOrder,Qn.projectList),zn(Qn.weekOrder,Qn.projectList),0===Qn.projectList.getNumProjects()){var t=Qn.projectList.addProject("Default Project");We(t),Cn(t.name),Jn(0,0)}else{ze(Qn.projectList.projects);var e=Qn.projectList.projects[0],n=Qn.projectList.getTaskList(e.id);Cn(e.name),Mn(n.tasks),Zn()}}));var Zn=function(){var t=Yn(Qn.projectList,"today"),e=Yn(Qn.projectList,"week");Jn(t,e)};qe.projectList.addEventListener("click",(function(t){var e=t.target.closest(".fa-chevron-right"),n=t.target.closest(".click-proj"),o=t.target.closest(".proj-items");if(e)$n(e);else if(n)to(n),Vn(),Je(n),Ve();else if(o){var r=o.parentElement.parentElement.dataset.projectid,i=o.dataset.taskid,a=o.parentElement.parentElement.querySelector(".click-proj");eo(r),Ge(i),Bn(i),Je(a),Vn()}}));var $n=function(t){var e=t.parentElement.parentElement.dataset.projectid;if(Ye(e))Fe(e),Ke(t);else if(Qn.projectList.getNumTasks(e)>0){var n=Qn.projectList.getTaskList(e);He(n.tasks,e),Ke(t)}},to=function(t){var e=t.parentElement.parentElement.dataset.projectid;eo(e)},eo=function(t){var e=Qn.projectList.getProject(t),n=Qn.projectList.getTaskList(t);Cn(e.name),Mn(n.tasks)};qe.addProjectBtn.addEventListener("click",(function(){Qe("add"),document.querySelector(".proj-name-input").addEventListener("keyup",en),document.getElementById("add-proj-form").addEventListener("submit",(function(t){t.preventDefault(),no()}))}));var no=function(){var t=$e();if(t){var e=Qn.projectList.addProject(t);We(e),Ze()}};qe.addTaskBtn.addEventListener("click",(function(){var t=Qn.projectList.getProjectNames();nn("add",t),oo(),document.querySelector(".add-task-form").addEventListener("submit",(function(t){t.preventDefault(),ro()}))}));var oo=function(){var t=[document.querySelector("#task-due-date"),document.querySelector("#select-priority"),document.querySelector("#select-project")];document.querySelector("#task-title").addEventListener("keyup",an),t.forEach((function(t){return t.addEventListener("change",an)}))},ro=function(){var t=rn(),e=Qn.projectList.getProjectID(t.project),n=Qn.projectList.getTaskList(e),o=n.addTask(null,t.title,t.description,t.dueDate,t.priority,t.project,t.notes);Qn.projectList.persistData(),so(n,o),io(),ao(n,o),Zn(),on()},io=function(){Qn.projectList.projects.forEach((function(t){var e=Qn.projectList.getTaskList(t.id),n=Ye(t.id);Be(e.tasks,t.id),n&&He(e.tasks,t.id)}))},ao=function(t,e){var n=qe.mainTitle.textContent;n===e.projectName?Mn(t.tasks):"Today"===n&&t.isDueToday(e.dueDate)?bo("today"):"Next 7 Days"===n&&t.isDueThisWeek(e.dueDate)&&bo("week")},so=function(t,e){t.isDueToday(e.dueDate)?Qn.todayOrder.addTask(e.id):t.isDueThisWeek(e.dueDate)&&Qn.weekOrder.addTask(e.id)};qe.titleBtns.addEventListener("click",(function(t){var e,n=t.target.matches(".proj-edit-btn"),o=t.target.matches(".proj-trash-btn"),r=t.target.parentElement.parentElement.firstElementChild.textContent;r&&(e=Qn.projectList.getProjectID(r)),n?lo(e,r):o&&uo(e)}));var lo=function(t,e){Qe("edit",e),document.querySelector(".proj-name-input").addEventListener("keyup",en),document.getElementById("add-proj-form").addEventListener("submit",(function(e){e.preventDefault(),co(t)}))},co=function(t){var e,n=$e();n&&(Qn.projectList.renameProject(t,n),e=n,qe.mainTitle.textContent=e,function(t,e){document.querySelector('[data-projectid="'.concat(t,'"]')).querySelector(".proj-name").textContent=e}(t,n),Ze())},uo=function(t){Qn.projectList.removeProject(t),qe.mainTitle.textContent="",qe.titleBtns.innerHTML="",qe.taskList.innerHTML="",function(t){var e=document.querySelector('[data-projectid="'.concat(t,'"]'));e.parentElement.removeChild(e)}(t)};qe.taskList.addEventListener("click",(function(t){var e=t.target.matches(".task-edit-btn"),n=t.target.matches(".task-trash-btn"),o=t.target.matches(".checkbox");if(e){var r=fo(t,!1);ho(r.taskList,r.task)}else if(n){var i=fo(t,!1);vo(i.taskList,i.taskID,i.projectID)}else if(o){var a=t.target.checked,s=fo(t,!0);go(s.taskList,s.taskid,a)}})),qe.taskList.addEventListener("click",(function(t){var e=t.target.closest(".tasks");if(e){var n=e.dataset.taskid;Bn(n),qe.projectList.querySelector('[data-taskid="'.concat(n,'"]'))&&Ge(n)}}));var fo=function(t,e){if(!e){var n=t.target.parentElement.parentElement.dataset.taskid,o=t.target.parentElement.parentElement.dataset.projectname,r=Qn.projectList.getProjectID(o),i=Qn.projectList.getTaskList(r),a=i.getTask(n);return{taskID:n,projectID:r,taskList:i,task:a}}var s=t.target.parentElement.parentElement.parentElement.dataset.taskid,l=t.target.parentElement.parentElement.parentElement.dataset.projectname,c=Qn.projectList.getProjectID(l);return{taskList:Qn.projectList.getTaskList(c),taskid:s}},ho=function(t,e){nn("edit",Qn.projectList.getProjectNames(),e),oo(),document.querySelector(".add-task-form").addEventListener("submit",(function(n){n.preventDefault(),po(t,e)}))},po=function(t,e){var n=rn(),o=e.projectName,r=e.title,i=e.dueDate,a=e.priority;t.editTask(e.id,n.title,n.description,n.dueDate,n.priority,n.project,n.notes),Qn.projectList.persistData();var s,l,c,u=qe.mainTitle.textContent;if(n.project!==o)"Today"===u||"Next 7 Days"===u?(s=e.id,l=n.project,(c=qe.taskList.querySelector('[data-taskid="'.concat(s,'"]'))).dataset.projectname=l,c.querySelector(".task-proj-name").textContent=l):Pn(e.id),mo(t,e.id),ze(Qn.projectList.projects);else if(n.title!==r||n.dueDate!==i||n.priority!==a){if(function(t,e,n,o,r){var i=qe.taskList.querySelector('[data-taskid="'.concat(t,'"]')),a=i.querySelector(".task-name"),s=i.querySelector(".time-remaining"),l=i.querySelector(".state");if(e&&(a.textContent=e),n&&(s.textContent="Due ".concat(_n(n))),o&&(a.classList.remove("danger"),a.classList.remove("primary"),"high"===o?a.classList.add("danger"):"medium"===o&&a.classList.add("primary"),r)){var c=Wn(o);l.classList.remove("p-danger-o"),l.classList.remove("p-primary-o"),l.classList.add(c)}}(e.id,n.title,n.dueDate,n.priority,e.isDone),io(),n.dueDate!==i)if(Fn(Qn.todayOrder,Qn.projectList),zn(Qn.weekOrder,Qn.projectList),"Today"===u){if(!t.isDueToday(n.dueDate))qe.taskList.querySelector('[data-taskid="'.concat(e.id,'"]'))&&Pn(e.id)}else if("Next 7 Days"===u){if(!t.isDueThisWeek(n.dueDate))qe.taskList.querySelector('[data-taskid="'.concat(e.id,'"]'))&&Pn(e.id)}}Zn(),on()},mo=function(t,e){var n=t.getTask(e);t.removeTask(e);var o=Qn.projectList.getProjectID(n.projectName);Qn.projectList.getTaskList(o).addTask(n.id,n.title,n.description,n.dueDate,n.priority,n.projectName,n.notes,n.isDone),Qn.projectList.persistData()},vo=function(t,e,n){if(ko(t,e),t.removeTask(e),Qn.projectList.persistData(),Pn(e),t.getNumTasks()>0)io();else{Be(t.tasks,n),Fe(n);var o=function(t){return document.querySelector('[data-projectid="'.concat(t,'"]')).querySelector(".fa-chevron-right")}(n);Ke(o)}Zn()},go=function(t,e,n){var o=qe.mainTitle.textContent;t.changeDoneStatus(e,n),n?(t.moveTaskToEnd(e),wo(t,e,!0)):(t.restoreTheTask(e),wo(t,e,!1)),Qn.projectList.persistData(),"Today"===o?bo("today"):"Next 7 Days"===o?bo("week"):Mn(t.tasks),function(t,e){var n=qe.taskList.querySelector('[data-taskid="'.concat(t,'"]')),o=n.querySelector(".checkbox"),r=n.querySelector(".tasks-left"),i=n.querySelector(".time-remaining");e?(o.checked=!0,r.classList.add("finished"),i.classList.add("finished"),n.classList.add("done")):(o.checked=!1,r.classList.remove("finished"),i.classList.remove("finished"),n.classList.remove("done"))}(e,n),io()},yo=function(){var t=qe.mainTitle.textContent,e=Array.from(qe.taskList.querySelectorAll(".tasks")).map((function(t){return t.dataset.taskid}));if("Today"===t)Qn.todayOrder.updateOrder(e);else if("Next 7 Days"===t)Qn.weekOrder.updateOrder(e);else{var n=Qn.projectList.getProjectID(t);Qn.projectList.getTaskList(n).rearrangeTasks(e),Qn.projectList.persistData(),io()}};qe.todayShortcut.addEventListener("click",(function(){Kn("today"),Nn(),Ue(),Ve(),Gn(qe.todayShortcut),Yn(Qn.projectList,"today")>0&&bo("today")})),qe.weekShortcut.addEventListener("click",(function(){Kn("week"),Nn(),Ue(),Ve(),Gn(qe.weekShortcut),Yn(Qn.projectList,"week")>0&&bo("week")}));var bo=function(t){var e;"today"===t?(e=Rn(Qn.projectList,"today"),e=Qn.todayOrder.rearrangeTasks(e)):(e=Rn(Qn.projectList,"week"),e=Qn.weekOrder.rearrangeTasks(e)),Mn(e,!0)},ko=function(t,e){var n=t.getTask(e).dueDate;t.isDueToday(n)?Qn.todayOrder.removeTask(e):t.isDueThisWeek(n)&&Qn.weekOrder.removeTask(e)},wo=function(t,e,n){var o=t.getTask(e).dueDate;n?t.isDueToday(o)?Qn.todayOrder.moveTaskToEnd(e):t.isDueThisWeek(o)&&Qn.weekOrder.moveTaskToEnd(e):t.isDueToday(o)?Qn.todayOrder.restoreTask(e):t.isDueThisWeek(o)&&Qn.weekOrder.restoreTask(e)};qe.todayShortcut.addEventListener("mouseover",(function(t){Un(t,"today",!0)})),qe.todayShortcut.addEventListener("mouseout",(function(t){Un(t,"today",!1)})),qe.weekShortcut.addEventListener("mouseover",(function(t){Un(t,"week",!0)})),qe.weekShortcut.addEventListener("mouseout",(function(t){Un(t,"week",!1)}))}]);