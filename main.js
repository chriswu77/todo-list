!function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}([function(t,e,n){(function(e){var n=e&&e.pid?e.pid.toString(36):"";function o(){var t=Date.now(),e=o.last||t;return o.last=t>e?t:e+1}t.exports=t.exports.default=function(t,e){return(t||"")+""+n+o().toString(36)+(e||"")},t.exports.process=function(t,e){return(t||"")+n+o().toString(36)+(e||"")},t.exports.time=function(t,e){return(t||"")+o().toString(36)+(e||"")}}).call(this,n(1))},function(t,e){var n,o,r=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{o="function"==typeof clearTimeout?clearTimeout:a}catch(t){o=a}}();var l,c=[],d=!1,u=-1;function h(){d&&l&&(d=!1,l.length?c=l.concat(c):u=-1,c.length&&p())}function p(){if(!d){var t=s(h);d=!0;for(var e=c.length;e;){for(l=c,c=[];++u<e;)l&&l[u].run();u=-1,e=c.length}l=null,d=!1,function(t){if(o===clearTimeout)return clearTimeout(t);if((o===a||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function m(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new f(t,e)),1!==c.length||d||s(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(t,e,n){"use strict";n.r(e);var o=n(0),r=n.n(o);function i(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function a(t){i(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||"object"==typeof t&&"[object Date]"===e?new Date(t.getTime()):"number"==typeof t||"[object Number]"===e?new Date(t):("string"!=typeof t&&"[object String]"!==e||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}function s(t){i(1,arguments);var e=a(t);return e.setHours(0,0,0,0),e}function l(t,e){i(2,arguments);var n=s(t),o=s(e);return n.getTime()===o.getTime()}function c(t){return i(1,arguments),l(t,Date.now())}function d(t){if(null===t||!0===t||!1===t)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function u(t,e){i(2,arguments);var n=a(t),o=d(e);return isNaN(o)?new Date(NaN):o?(n.setDate(n.getDate()+o),n):n}function h(t,e){i(2,arguments);var n=e||{},o=a(t).getTime(),r=a(n.start).getTime(),s=a(n.end).getTime();if(!(r<=s))throw new RangeError("Invalid interval");return o>=r&&o<=s}function p(t,e){i(2,arguments);var n=a(t).getTime(),o=d(e);return new Date(n+o)}function f(t,e){i(2,arguments);var n=d(e);return p(t,6e4*n)}class m{constructor(){this.tasks=[]}addTask(t,e,n,o,i,a,s="",l=!1){null===t&&(t=r()());const c={id:t,title:e,description:n,dueDate:o,priority:i,projectName:a,notes:s,isDone:l};return this.tasks.push(c),c}removeTask(t){const e=this.tasks.findIndex(e=>e.id===t);this.tasks.splice(e,1)}getNumTasks(){return this.tasks.length}getTask(t){const e=this.tasks.findIndex(e=>e.id===t);return this.tasks[e]}editTask(t,e,n,o,r,i,a){const s=this.getTask(t);s.title=e,s.description=n,s.dueDate=o,s.priority=r,s.projectName=i,s.notes=a}changeDoneStatus(t,e){this.getTask(t).isDone=e}moveTaskToEnd(t){const e=this.tasks.findIndex(e=>e.id===t);this.tasks.push(this.tasks.splice(e,1)[0])}restoreTheTask(t){const e=this.getTask(t);this.removeTask(t),this.tasks.unshift(e)}rearrangeTasks(t){const e=[...this.tasks];this.tasks.length=0,t.forEach(t=>{const n=e.findIndex(e=>e.id===t),o=e[n];this.tasks.push(o)})}getTodayTasks(){const t=[],e=(new Date).getTimezoneOffset();return this.tasks.forEach(n=>{let o=new Date(n.dueDate);o=f(o,e),c(o)&&t.push(n)}),t}getWeekTasks(){const t=new Date,e=t.getTimezoneOffset(),n=u(t,7),o=[];return this.tasks.forEach(r=>{let i=new Date(r.dueDate);i=f(i,e),h(i,{start:t,end:n})&&o.push(r)}),o}isDueToday(t){const e=(new Date).getTimezoneOffset();return c(t=f(t=new Date(t),e))}isDueThisWeek(t){const e=new Date,n=e.getTimezoneOffset(),o=u(e,7);return h(t=f(t=new Date(t),n),{start:e,end:o})}}class g{constructor(){this.projects=[]}addProject(t){const e={id:r()(),name:t,taskList:new m};return this.projects.push(e),this.persistData(),e}removeProject(t){const e=this.projects.findIndex(e=>e.id===t);this.projects.splice(e,1),this.persistData()}persistData(){localStorage.setItem("projects",JSON.stringify(this.projects))}readStorage(){const t=JSON.parse(localStorage.getItem("projects"));t&&(this.projects=t)}getNumProjects(){return this.projects.length}getProject(t){const e=this.projects.findIndex(e=>e.id===t);return this.projects[e]}remakeTaskList(t){const e=new m;return e.tasks=t.tasks,e}getTaskList(t){const e=this.getProject(t);return this.remakeTaskList(e.taskList)}getNumTasks(t){return this.getTaskList(t).getNumTasks()}getProjectNames(){return this.projects.map(t=>t.name)}getProjectID(t){const e=this.projects.findIndex(e=>e.name===t);return this.projects[e].id}renameProject(t,e){this.getProject(t).name=e,this.persistData()}}const v=(t,e)=>{const n=[];let o;return t.projects.forEach(r=>{const i=t.getTaskList(r.id);"today"===e?o=i.getTodayTasks():"week"===e&&(o=i.getWeekTasks()),o.length>0&&o.forEach(t=>n.push(t))}),n},y=(t,e)=>v(t,e).length,b=(t,e)=>{if(0===t.order.length)return;const n=v(e,"today").map(t=>t.id),o=[];t.order.forEach(t=>{n.includes(t)&&o.push(t)}),n.forEach(t=>{o.includes(t)||o.push(t)}),t.updateOrder(o)},w=(t,e)=>{if(0===t.order.length)return;const n=v(e,"week").map(t=>t.id),o=[];t.order.forEach(t=>{n.includes(t)&&o.push(t)}),n.forEach(t=>{o.includes(t)||o.push(t)}),t.updateOrder(o)};class k{constructor(){this.order=[]}persistData(){localStorage.setItem("todayOrder",JSON.stringify(this.order))}readStorage(){const t=JSON.parse(localStorage.getItem("todayOrder"));t&&(this.order=t)}updateOrder(t){this.order=t,this.persistData()}rearrangeTasks(t){if(0===this.order.length)return t.forEach(t=>this.order.push(t.id)),this.persistData(),t;{const e=[];return this.order.forEach(n=>{const o=t.findIndex(t=>t.id===n),r=t[o];e.push(r)}),e}}moveTaskToEnd(t){const e=this.order.findIndex(e=>e===t);this.order.push(this.order.splice(e,1)[0]),this.persistData()}restoreTask(t){const e=this.order.findIndex(e=>e===t);this.order.unshift(this.order.splice(e,1)[0]),this.persistData()}addTask(t){this.order.push(t),this.persistData()}removeTask(t){const e=this.order.findIndex(e=>e===t);this.order.splice(e,1),this.persistData()}}class D{constructor(){this.order=[]}persistData(){localStorage.setItem("weekOrder",JSON.stringify(this.order))}readStorage(){const t=JSON.parse(localStorage.getItem("weekOrder"));t&&(this.order=t)}updateOrder(t){this.order=t,this.persistData()}rearrangeTasks(t){if(0===this.order.length)return t.forEach(t=>this.order.push(t.id)),this.persistData(),t;{const e=[];return this.order.forEach(n=>{const o=t.findIndex(t=>t.id===n),r=t[o];e.push(r)}),e}}moveTaskToEnd(t){const e=this.order.findIndex(e=>e===t);this.order.push(this.order.splice(e,1)[0]),this.persistData()}restoreTask(t){const e=this.order.findIndex(e=>e===t);this.order.unshift(this.order.splice(e,1)[0]),this.persistData()}addTask(t){this.order.push(t),this.persistData()}removeTask(t){const e=this.order.findIndex(e=>e===t);this.order.splice(e,1),this.persistData()}}const T={projectList:document.getElementById("project-list"),addProjectBtn:document.getElementById("add-proj-btn"),modal:document.querySelector(".modal"),modalContent:document.querySelector(".modal-content"),addTaskBtn:document.getElementById("add-button"),mainContent:document.querySelector(".main-content-container"),mainTitle:document.querySelector(".proj-title"),titleBtns:document.querySelector(".edit-btns"),taskList:document.querySelector(".task-list-container"),todayShortcut:document.querySelector("#today-container"),weekShortcut:document.querySelector("#week-container"),todayCount:document.getElementById("today-task-num"),weekCount:document.getElementById("week-task-num")},S=t=>{const e=`\n    <div class="project-item-container" data-projectid="${t.id}">\n        <div class="view-1">\n            <i class="fas fa-chevron-right"></i>\n            <div class="click-proj">\n                <div class="shortcut-text proj-name">${t.name}</div>\n                ${E(t.taskList.tasks,t.id)}\n            </div>\n        </div>\n\n        <div class="view-2" data-viewid="${t.id}"></div>\n    </div>\n    `;T.projectList.insertAdjacentHTML("beforeend",e)},E=(t,e)=>{const n=t.length;let o="";return o=n>0?`\n            <div class="task-num-style proj-task-num" data-countid="${e}">${n}</div>\n        `:`\n        <div class="task-num-style proj-task-num" data-countid="${e}" style="visibility: hidden;">${n}</div>\n    `,o},j=(t,e)=>{const n=document.querySelector(`[data-countid="${e}"]`),o=t.length;n.textContent=o,n.style.visibility=o>0?"visible":"hidden"},L=(t,e)=>{const n=document.querySelector(`[data-viewid="${e}"]`);n.innerHTML="",t.forEach(t=>{const e=`\n        <div class="proj-items shortcut-text ${x(t.priority,t.isDone)}" data-taskid="${t.id}">${t.title}</div>\n        `;n.insertAdjacentHTML("beforeend",e)})},x=(t,e)=>{let n="";return e&&(n+="finished "),n+="high"===t?"danger":"medium"===t?"warning":"primary",n},C=t=>""!==document.querySelector(`[data-viewid="${t}"]`).innerHTML,M=t=>{document.querySelector(`[data-viewid="${t}"]`).innerHTML=""},_=t=>{T.projectList.innerHTML="",t.forEach(t=>S(t))},O=t=>{t.classList.toggle("rotate")},N=t=>{P();const e=t.querySelector(".proj-name"),n=t.querySelector(".proj-task-num");t.classList.add("highlight"),e.classList.add("bold"),n.classList.add("bold")},P=()=>{const t=Array.from(document.querySelectorAll(".click-proj")),e=Array.from(document.querySelectorAll(".proj-name")),n=Array.from(document.querySelectorAll(".proj-task-num"));t.forEach(t=>t.classList.remove("highlight")),e.forEach(t=>t.classList.remove("bold")),n.forEach(t=>t.classList.remove("bold"))},I=t=>{A();const e=T.projectList.querySelector(`[data-taskid="${t}"]`);e.classList.add("bold"),e.classList.add("highlight")},A=()=>{const t=Array.from(T.projectList.querySelectorAll(".proj-items"));t.forEach(t=>t.classList.remove("bold")),t.forEach(t=>t.classList.remove("highlight"))},q=(t,e)=>{T.modal.style.visibility="visible",T.modalContent.innerHTML=`\n    <form id="add-proj-form">\n        ${X(t,e)}\n        <div class="btn-container">\n            <input type="button" class="cancel-btn" value="Cancel">\n            <input type="submit" class="submit-btn" vale="Submit">\n        </div>\n    </form>\n    `,document.querySelector(".cancel-btn").addEventListener("click",W),window.addEventListener("click",t=>{t.target.matches(".modal")&&W()})},W=()=>{T.modal.style.visibility="hidden"},$=()=>document.querySelector(".proj-name-input").value,X=(t,e)=>{let n;return n="add"===t?'<input type="text" class="proj-name-input" placeholder="Project Name"></input>':`<input type="text" class="proj-name-input" placeholder="Project Name" value="${e}"></input>`,n},B=()=>{const t=document.querySelector(".submit-btn");""!==document.querySelector(".proj-name-input").value?t.setAttribute("style","opacity: 1; border: 1.75px solid #5898DD;"):t.setAttribute("style","opacity: 0.25")},H=(t,e,n)=>{T.modal.style.visibility="visible",T.modalContent.innerHTML=z(t,e,n),document.querySelector(".cancel-btn").addEventListener("click",R),window.addEventListener("click",t=>{t.target.matches(".modal")&&R()})},R=()=>{T.modal.style.visibility="hidden"},Y=()=>{const t=document.querySelector("#select-priority"),e=document.querySelector("#select-project");return{title:document.querySelector("#task-title").value,description:document.querySelector("#task-description").value,dueDate:document.querySelector("#task-due-date").value,priority:t.options[t.selectedIndex].value,project:e.options[e.selectedIndex].value,notes:document.querySelector("#task-form-notes").value}},F=()=>{const t=document.querySelector("#select-priority"),e=document.querySelector("#select-project"),n=document.querySelector(".submit-btn");let o=document.querySelector("#task-title").value,r=document.querySelector("#task-due-date").value,i=t.options[t.selectedIndex].value,a=e.options[e.selectedIndex].value;""!==o&&""!==r&&""!==i&&""!==a?n.setAttribute("style","opacity: 1; border: 1.75px solid #5898DD;"):n.setAttribute("style","opacity: 0.25")},z=(t,e,n)=>{let o;return o="add"===t?`\n        <form class="add-task-form">\n            <input id="task-title" type="text" placeholder="Task Title" required>\n            <div class="task-form-spacing">\n                <input id="task-description" type="text" placeholder="Description">\n            </div>\n            <div class="task-form-spacing">\n                <input id="task-due-date" type="date" required>\n            </div>\n            <div class="task-form-spacing">\n                <select id="select-priority" name="priority" required>\n                    <option value="" hidden disabled selected>Priority</option>\n                    <option value="high">High</option>\n                    <option value="medium">Medium</option>\n                    <option value="low">Low</option>\n                </select>\n            </div>\n            <div class="task-form-spacing">\n                <select id="select-project" name="project" required>\n                    ${J(e)}\n                </select>\n            </div>\n            <div class="task-form-spacing">\n                <textarea id="task-form-notes" name="notes" placeholder="Notes" rows="5" cols="50"></textarea>\n            </div>\n            <div class="btn-container-2">\n                <input type="button" class="cancel-btn" value="Cancel">\n                <input type="submit" class="submit-btn" vale="Submit">\n            </div>\n        </form>\n        `:`\n        <form class="add-task-form">\n            <input id="task-title" type="text" placeholder="Task Title" value="${n.title}" required>\n            <div class="task-form-spacing">\n                <input id="task-description" type="text" placeholder="Description" value="${n.description}">\n            </div>\n            <div class="task-form-spacing">\n                <input id="task-due-date" type="date" value="${n.dueDate}" required>\n            </div>\n            <div class="task-form-spacing">\n                <select id="select-priority" name="priority" required>\n                    ${K(n.priority)}\n                </select>\n            </div>\n            <div class="task-form-spacing">\n                <select id="select-project" name="project" required>\n                    ${J(e,n.projectName)}\n                </select>\n            </div>\n            <div class="task-form-spacing">\n                <textarea id="task-form-notes" name="notes" placeholder="Notes" rows="5" cols="50" value="${n.notes}">${n.notes}</textarea>\n            </div>\n            <div class="btn-container-2">\n                <input type="button" class="cancel-btn" value="Cancel">\n                <input type="submit" class="submit-btn" vale="Submit">\n            </div>\n        </form>\n        `,o},K=t=>{let e;return e="high"===t?'\n        <option value="high" selected>High</option>\n        <option value="medium">Medium</option>\n        <option value="low">Low</option>\n        ':"medium"===t?'\n        <option value="high">High</option>\n        <option value="medium" selected>Medium</option>\n        <option value="low">Low</option>\n        ':'\n        <option value="high">High</option>\n        <option value="medium">Medium</option>\n        <option value="low" selected>Low</option>\n        ',e},J=(t,e)=>{let n;if(void 0===e){const e=T.mainTitle.textContent;n=t.includes(e)?`\n            ${G(t,e)}\n            `:`\n            <option value="" hidden disabled selected>Select Project</option>\n            ${G(t)}\n            `}else n=`\n        ${G(t,e)}\n        `;return n},G=(t,e)=>{let n="";if(void 0===e)for(let e=0;e<t.length;e++)n+=`<option value="${t[e]}">${t[e]}</option>`;else for(let o=0;o<t.length;o++)t[o]===e?n+=`<option value="${t[o]}" selected>${t[o]}</option>`:n+=`<option value="${t[o]}">${t[o]}</option>`;return n};function U(t,e){i(2,arguments);var n=d(e);return u(t,-n)}function V(t,e){i(2,arguments);var n=a(t),o=a(e),r=n.getTime()-o.getTime();return r<0?-1:r>0?1:r}function Q(t,e){i(2,arguments);var n=a(t),o=a(e),r=n.getFullYear()-o.getFullYear(),s=n.getMonth()-o.getMonth();return 12*r+s}function Z(t,e){i(2,arguments);var n=a(t),o=a(e),r=V(n,o),s=Math.abs(Q(n,o));n.setMonth(n.getMonth()-r*s);var l=V(n,o)===-r,c=r*(s-l);return 0===c?0:c}function tt(t,e){i(2,arguments);var n=a(t),o=a(e);return n.getTime()-o.getTime()}function et(t,e){i(2,arguments);var n=tt(t,e)/1e3;return n>0?Math.floor(n):Math.ceil(n)}var nt={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function ot(t){return function(e){var n=e||{},o=n.width?String(n.width):t.defaultWidth;return t.formats[o]||t.formats[t.defaultWidth]}}var rt={date:ot({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:ot({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:ot({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},it={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function at(t){return function(e,n){var o,r=n||{};if("formatting"===(r.context?String(r.context):"standalone")&&t.formattingValues){var i=t.defaultFormattingWidth||t.defaultWidth,a=r.width?String(r.width):i;o=t.formattingValues[a]||t.formattingValues[i]}else{var s=t.defaultWidth,l=r.width?String(r.width):t.defaultWidth;o=t.values[l]||t.values[s]}return o[t.argumentCallback?t.argumentCallback(e):e]}}function st(t){return function(e,n){var o=String(e),r=n||{},i=r.width,a=i&&t.matchPatterns[i]||t.matchPatterns[t.defaultMatchWidth],s=o.match(a);if(!s)return null;var l,c=s[0],d=i&&t.parsePatterns[i]||t.parsePatterns[t.defaultParseWidth];return l="[object Array]"===Object.prototype.toString.call(d)?function(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}(d,(function(t){return t.test(c)})):function(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}(d,(function(t){return t.test(c)})),l=t.valueCallback?t.valueCallback(l):l,{value:l=r.valueCallback?r.valueCallback(l):l,rest:o.slice(c.length)}}}var lt,ct={code:"en-US",formatDistance:function(t,e,n){var o;return n=n||{},o="string"==typeof nt[t]?nt[t]:1===e?nt[t].one:nt[t].other.replace("{{count}}",e),n.addSuffix?n.comparison>0?"in "+o:o+" ago":o},formatLong:rt,formatRelative:function(t,e,n,o){return it[t]},localize:{ordinalNumber:function(t,e){var n=Number(t),o=n%100;if(o>20||o<10)switch(o%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:at({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:at({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(t){return Number(t)-1}}),month:at({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:at({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:at({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(lt={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(t){return parseInt(t,10)}},function(t,e){var n=String(t),o=e||{},r=n.match(lt.matchPattern);if(!r)return null;var i=r[0],a=n.match(lt.parsePattern);if(!a)return null;var s=lt.valueCallback?lt.valueCallback(a[0]):a[0];return{value:s=o.valueCallback?o.valueCallback(s):s,rest:n.slice(i.length)}}),era:st({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:st({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:st({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:st({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:st({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};function dt(t){return function(t,e){if(null==t)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in e=e||{})e.hasOwnProperty(n)&&(t[n]=e[n]);return t}({},t)}function ut(t){return t.getTime()%6e4}function ht(t){var e=new Date(t.getTime()),n=Math.ceil(e.getTimezoneOffset());return e.setSeconds(0,0),6e4*n+(n>0?(6e4+ut(e))%6e4:ut(e))}function pt(t,e,n){i(2,arguments);var o=n||{},r=o.locale||ct;if(!r.formatDistance)throw new RangeError("locale must contain formatDistance property");var s=V(t,e);if(isNaN(s))throw new RangeError("Invalid time value");var l,c,d=dt(o);d.addSuffix=Boolean(o.addSuffix),d.comparison=s,s>0?(l=a(e),c=a(t)):(l=a(t),c=a(e));var u,h=et(c,l),p=(ht(c)-ht(l))/1e3,f=Math.round((h-p)/60);if(f<2)return o.includeSeconds?h<5?r.formatDistance("lessThanXSeconds",5,d):h<10?r.formatDistance("lessThanXSeconds",10,d):h<20?r.formatDistance("lessThanXSeconds",20,d):h<40?r.formatDistance("halfAMinute",null,d):h<60?r.formatDistance("lessThanXMinutes",1,d):r.formatDistance("xMinutes",1,d):0===f?r.formatDistance("lessThanXMinutes",1,d):r.formatDistance("xMinutes",f,d);if(f<45)return r.formatDistance("xMinutes",f,d);if(f<90)return r.formatDistance("aboutXHours",1,d);if(f<1440){var m=Math.round(f/60);return r.formatDistance("aboutXHours",m,d)}if(f<2520)return r.formatDistance("xDays",1,d);if(f<43200){var g=Math.round(f/1440);return r.formatDistance("xDays",g,d)}if(f<86400)return u=Math.round(f/43200),r.formatDistance("aboutXMonths",u,d);if((u=Z(c,l))<12){var v=Math.round(f/43200);return r.formatDistance("xMonths",v,d)}var y=u%12,b=Math.floor(u/12);return y<3?r.formatDistance("aboutXYears",b,d):y<9?r.formatDistance("overXYears",b,d):r.formatDistance("almostXYears",b+1,d)}const ft=t=>{T.titleBtns.innerHTML="",T.mainTitle.textContent=t,T.titleBtns.innerHTML='\n    <i class="far fa-edit proj-edit-btn"></i>\n    <i class="far fa-trash-alt proj-trash-btn"></i>\n    '},mt=(t,e)=>{T.taskList.innerHTML="",t.forEach(t=>{const n=`\n        <div class="tasks underline-gray ${Dt(t.isDone)}" data-taskid="${t.id}" data-projectname="${t.projectName}">\n            <div class="tasks-left ${kt(t.isDone)}">\n\n                <div class="pretty p-default p-round">\n                    <input type="checkbox" class="checkbox" ${wt(t.isDone)}>\n                    <div class="state ${Tt(t.priority)}">\n                        <label></label>\n                    </div>\n                </div>\n\n                <p class="task-name shortcut-text ${St(t.priority)}">${t.title}</p>\n                <div class="time-remaining ${kt(t.isDone)}">Due ${vt(t.dueDate)}</div>\n            </div>\n            <div class="tasks-right">\n                ${gt(e,t.projectName)}\n                <i class="far fa-edit task-edit-btn"></i>\n                <i class="far fa-trash-alt task-trash-btn"></i>\n            </div>\n        </div>\n        `;T.taskList.insertAdjacentHTML("beforeend",n)})},gt=(t,e)=>{let n="";return t&&(n=`<p class="task-proj-name">${e}</p>`),n},vt=t=>{const e=new Date(t),n=(new Date).getTimezoneOffset(),o=f(e,n),r=f(o,3*n);if(c(o))return"Today";if(function(t){return i(1,arguments),l(t,u(Date.now(),1))}(o))return"Tomorrow";if(function(t){return i(1,arguments),l(t,U(Date.now(),1))}(o))return"Yesterday";return function(t,e){return i(1,arguments),pt(t,Date.now(),e)}(r,{addSuffix:!0})},yt=()=>{T.taskList.innerHTML=""},bt=t=>{const e=T.taskList.querySelector(`[data-taskid="${t}"]`);e.parentElement.removeChild(e)},wt=t=>{let e="";return t&&(e="checked"),e},kt=t=>{let e="";return t&&(e="finished"),e},Dt=t=>{let e="";return t&&(e="done"),e},Tt=t=>{let e="";return"high"===t?e="p-danger-o":"medium"===t&&(e="p-primary-o"),e},St=t=>{let e="";return"high"===t?e="danger":"medium"===t&&(e="primary"),e},Et=t=>{jt();const e=T.taskList.querySelector(`[data-taskid="${t}"]`),n=e.querySelector(".task-name"),o=e.querySelector(".time-remaining");e.classList.add("highlight-task"),n.classList.add("bold"),o.classList.add("bold")},jt=()=>{const t=Array.from(document.querySelectorAll(".tasks")),e=Array.from(document.querySelectorAll(".task-name")),n=Array.from(document.querySelectorAll(".time-remaining"));t.forEach(t=>t.classList.remove("highlight-task")),e.forEach(t=>t.classList.remove("bold")),n.forEach(t=>t.classList.remove("bold"))};function Lt(){return(Lt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}).apply(this,arguments)}function xt(t){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(t)}var Ct=xt(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Mt=xt(/Edge/i),_t=xt(/firefox/i),Ot=xt(/safari/i)&&!xt(/chrome/i)&&!xt(/android/i),Nt=xt(/iP(ad|od|hone)/i),Pt=xt(/chrome/i)&&xt(/android/i),It={capture:!1,passive:!1};function At(t,e,n){t.addEventListener(e,n,!Ct&&It)}function qt(t,e,n){t.removeEventListener(e,n,!Ct&&It)}function Wt(t,e){if(e){if(">"===e[0]&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch(t){return!1}return!1}}function $t(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function Xt(t,e,n,o){if(t){n=n||document;do{if(null!=e&&(">"===e[0]?t.parentNode===n&&Wt(t,e):Wt(t,e))||o&&t===n)return t;if(t===n)break}while(t=$t(t))}return null}var Bt,Ht=/\s+/g;function Rt(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var o=(" "+t.className+" ").replace(Ht," ").replace(" "+e+" "," ");t.className=(o+(n?" "+e:"")).replace(Ht," ")}}function Yt(t,e,n){var o=t&&t.style;if(o){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),void 0===e?n:n[e];e in o||-1!==e.indexOf("webkit")||(e="-webkit-"+e),o[e]=n+("string"==typeof n?"":"px")}}function Ft(t,e){var n="";if("string"==typeof t)n=t;else do{var o=Yt(t,"transform");o&&"none"!==o&&(n=o+" "+n)}while(!e&&(t=t.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(n)}function zt(t,e,n){if(t){var o=t.getElementsByTagName(e),r=0,i=o.length;if(n)for(;r<i;r++)n(o[r],r);return o}return[]}function Kt(){return document.scrollingElement||document.documentElement}function Jt(t,e,n,o,r){if(t.getBoundingClientRect||t===window){var i,a,s,l,c,d,u;if(t!==window&&t!==Kt()?(a=(i=t.getBoundingClientRect()).top,s=i.left,l=i.bottom,c=i.right,d=i.height,u=i.width):(a=0,s=0,l=window.innerHeight,c=window.innerWidth,d=window.innerHeight,u=window.innerWidth),(e||n)&&t!==window&&(r=r||t.parentNode,!Ct))do{if(r&&r.getBoundingClientRect&&("none"!==Yt(r,"transform")||n&&"static"!==Yt(r,"position"))){var h=r.getBoundingClientRect();a-=h.top+parseInt(Yt(r,"border-top-width")),s-=h.left+parseInt(Yt(r,"border-left-width")),l=a+i.height,c=s+i.width;break}}while(r=r.parentNode);if(o&&t!==window){var p=Ft(r||t),f=p&&p.a,m=p&&p.d;p&&(l=(a/=m)+(d/=m),c=(s/=f)+(u/=f))}return{top:a,left:s,bottom:l,right:c,width:u,height:d}}}function Gt(t,e,n){for(var o=te(t,!0),r=Jt(t)[e];o;){var i=Jt(o)[n];if(!("top"===n||"left"===n?r>=i:r<=i))return o;if(o===Kt())break;o=te(o,!1)}return!1}function Ut(t,e,n){for(var o=0,r=0,i=t.children;r<i.length;){if("none"!==i[r].style.display&&i[r]!==an.ghost&&i[r]!==an.dragged&&Xt(i[r],n.draggable,t,!1)){if(o===e)return i[r];o++}r++}return null}function Vt(t,e){for(var n=t.lastElementChild;n&&(n===an.ghost||"none"===Yt(n,"display")||e&&!Wt(n,e));)n=n.previousElementSibling;return n||null}function Qt(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)"TEMPLATE"===t.nodeName.toUpperCase()||t===an.clone||e&&!Wt(t,e)||n++;return n}function Zt(t){var e=0,n=0,o=Kt();if(t)do{var r=Ft(t);e+=t.scrollLeft*r.a,n+=t.scrollTop*r.d}while(t!==o&&(t=t.parentNode));return[e,n]}function te(t,e){if(!t||!t.getBoundingClientRect)return Kt();var n=t,o=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var r=Yt(n);if(n.clientWidth<n.scrollWidth&&("auto"==r.overflowX||"scroll"==r.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==r.overflowY||"scroll"==r.overflowY)){if(!n.getBoundingClientRect||n===document.body)return Kt();if(o||e)return n;o=!0}}}while(n=n.parentNode);return Kt()}function ee(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}function ne(t,e){return function(){if(!Bt){var n=arguments,o=this;1===n.length?t.call(o,n[0]):t.apply(o,n),Bt=setTimeout((function(){Bt=void 0}),e)}}}function oe(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function re(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}function ie(t,e){Yt(t,"position","absolute"),Yt(t,"top",e.top),Yt(t,"left",e.left),Yt(t,"width",e.width),Yt(t,"height",e.height)}function ae(t){Yt(t,"position",""),Yt(t,"top",""),Yt(t,"left",""),Yt(t,"width",""),Yt(t,"height","")}var se="Sortable"+(new Date).getTime(),le=[],ce={initializeByDefault:!0},de={mount:function(t){for(var e in ce)ce.hasOwnProperty(e)&&!(e in t)&&(t[e]=ce[e]);le.push(t)},pluginEvent:function(t,e,n){var o=this;this.eventCanceled=!1,n.cancel=function(){o.eventCanceled=!0};var r=t+"Global";le.forEach((function(o){e[o.pluginName]&&(e[o.pluginName][r]&&e[o.pluginName][r](Lt({sortable:e},n)),e.options[o.pluginName]&&e[o.pluginName][t]&&e[o.pluginName][t](Lt({sortable:e},n)))}))},initializePlugins:function(t,e,n,o){for(var r in le.forEach((function(o){var r=o.pluginName;if(t.options[r]||o.initializeByDefault){var i=new o(t,e,t.options);i.sortable=t,i.options=t.options,t[r]=i,Object.assign(n,i.defaults)}})),t.options)if(t.options.hasOwnProperty(r)){var i=this.modifyOption(t,r,t.options[r]);void 0!==i&&(t.options[r]=i)}},getEventProperties:function(t,e){var n={};return le.forEach((function(o){"function"==typeof o.eventProperties&&Object.assign(n,o.eventProperties.call(e[o.pluginName],t))})),n},modifyOption:function(t,e,n){var o;return le.forEach((function(r){t[r.pluginName]&&r.optionListeners&&"function"==typeof r.optionListeners[e]&&(o=r.optionListeners[e].call(t[r.pluginName],n))})),o}};function ue(t){var e=t.sortable,n=t.rootEl,o=t.name,r=t.targetEl,i=t.cloneEl,a=t.toEl,s=t.fromEl,l=t.oldIndex,c=t.newIndex,d=t.oldDraggableIndex,u=t.newDraggableIndex,h=t.originalEvent,p=t.putSortable,f=t.extraEventProperties;if(e=e||n&&n[se]){var m,g=e.options,v="on"+o.charAt(0).toUpperCase()+o.substr(1);!window.CustomEvent||Ct||Mt?(m=document.createEvent("Event")).initEvent(o,!0,!0):m=new CustomEvent(o,{bubbles:!0,cancelable:!0}),m.to=a||n,m.from=s||n,m.item=r||n,m.clone=i,m.oldIndex=l,m.newIndex=c,m.oldDraggableIndex=d,m.newDraggableIndex=u,m.originalEvent=h,m.pullMode=p?p.lastPutMode:void 0;var y=Lt({},f,de.getEventProperties(o,e));for(var b in y)m[b]=y[b];n&&n.dispatchEvent(m),g[v]&&g[v].call(e,m)}}var he=function(t,e,n){var o=void 0===n?{}:n,r=o.evt,i=function(t,e){if(null==t)return{};var n,o,r={},i=Object.keys(t);for(o=0;o<i.length;o++)e.indexOf(n=i[o])>=0||(r[n]=t[n]);return r}(o,["evt"]);de.pluginEvent.bind(an)(t,e,Lt({dragEl:fe,parentEl:me,ghostEl:ge,rootEl:ve,nextEl:ye,lastDownEl:be,cloneEl:we,cloneHidden:ke,dragStarted:Pe,putSortable:Le,activeSortable:an.active,originalEvent:r,oldIndex:De,oldDraggableIndex:Se,newIndex:Te,newDraggableIndex:Ee,hideGhostForTarget:tn,unhideGhostForTarget:en,cloneNowHidden:function(){ke=!0},cloneNowShown:function(){ke=!1},dispatchSortableEvent:function(t){pe({sortable:e,name:t,originalEvent:r})}},i))};function pe(t){ue(Lt({putSortable:Le,cloneEl:we,targetEl:fe,rootEl:ve,oldIndex:De,oldDraggableIndex:Se,newIndex:Te,newDraggableIndex:Ee},t))}var fe,me,ge,ve,ye,be,we,ke,De,Te,Se,Ee,je,Le,xe,Ce,Me,_e,Oe,Ne,Pe,Ie,Ae,qe,We,$e=!1,Xe=!1,Be=[],He=!1,Re=!1,Ye=[],Fe=!1,ze=[],Ke="undefined"!=typeof document,Je=Nt,Ge=Mt||Ct?"cssFloat":"float",Ue=Ke&&!Pt&&!Nt&&"draggable"in document.createElement("div"),Ve=function(){if(Ke){if(Ct)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto","auto"===t.style.pointerEvents}}(),Qe=function(t,e){var n=Yt(t),o=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),r=Ut(t,0,e),i=Ut(t,1,e),a=r&&Yt(r),s=i&&Yt(i),l=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+Jt(r).width,c=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+Jt(i).width;return"flex"===n.display?"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal":"grid"===n.display?n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal":r&&a.float&&"none"!==a.float?!i||"both"!==s.clear&&s.clear!==("left"===a.float?"left":"right")?"horizontal":"vertical":r&&("block"===a.display||"flex"===a.display||"table"===a.display||"grid"===a.display||l>=o&&"none"===n[Ge]||i&&"none"===n[Ge]&&l+c>o)?"vertical":"horizontal"},Ze=function(t){function e(t,n){return function(o,r,i,a){if(null==t&&(n||o.options.group.name&&r.options.group.name&&o.options.group.name===r.options.group.name))return!0;if(null==t||!1===t)return!1;if(n&&"clone"===t)return t;if("function"==typeof t)return e(t(o,r,i,a),n)(o,r,i,a);var s=(n?o:r).options.group.name;return!0===t||"string"==typeof t&&t===s||t.join&&t.indexOf(s)>-1}}var n={},o=t.group;o&&"object"==typeof o||(o={name:o}),n.name=o.name,n.checkPull=e(o.pull,!0),n.checkPut=e(o.put),n.revertClone=o.revertClone,t.group=n},tn=function(){!Ve&&ge&&Yt(ge,"display","none")},en=function(){!Ve&&ge&&Yt(ge,"display","")};Ke&&document.addEventListener("click",(function(t){if(Xe)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),Xe=!1,!1}),!0);var nn,on=function(t){if(fe){var e=(r=(t=t.touches?t.touches[0]:t).clientX,i=t.clientY,Be.some((function(t){if(!Vt(t)){var e=Jt(t),n=t[se].options.emptyInsertThreshold;return n&&r>=e.left-n&&r<=e.right+n&&i>=e.top-n&&i<=e.bottom+n?a=t:void 0}})),a);if(e){var n={};for(var o in t)t.hasOwnProperty(o)&&(n[o]=t[o]);n.target=n.rootEl=e,n.preventDefault=void 0,n.stopPropagation=void 0,e[se]._onDragOver(n)}}var r,i,a},rn=function(t){fe&&fe.parentNode[se]._isOutsideThisEl(t.target)};function an(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw"Sortable: `el` must be an HTMLElement, not "+{}.toString.call(t);this.el=t,this.options=e=Object.assign({},e),t[se]=this;var n,o,r={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Qe(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==an.supportPointer&&"PointerEvent"in window,emptyInsertThreshold:5};for(var i in de.initializePlugins(this,t,r),r)!(i in e)&&(e[i]=r[i]);for(var a in Ze(e),this)"_"===a.charAt(0)&&"function"==typeof this[a]&&(this[a]=this[a].bind(this));this.nativeDraggable=!e.forceFallback&&Ue,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?At(t,"pointerdown",this._onTapStart):(At(t,"mousedown",this._onTapStart),At(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(At(t,"dragover",this),At(t,"dragenter",this)),Be.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),Object.assign(this,(o=[],{captureAnimationState:function(){o=[],this.options.animation&&[].slice.call(this.el.children).forEach((function(t){if("none"!==Yt(t,"display")&&void 0!==t){o.push({target:t,rect:Jt(t)});var e=Lt({},o[o.length-1].rect);if(t.thisAnimationDuration){var n=Ft(t,!0);n&&(e.top-=n.f,e.left-=n.e)}t.fromRect=e}}))},addAnimationState:function(t){o.push(t)},removeAnimationState:function(t){o.splice(function(t,e){for(var n in t)if(t.hasOwnProperty(n))for(var o in e)if(e.hasOwnProperty(o)&&e[o]===t[n][o])return Number(n);return-1}(o,{target:t}),1)},animateAll:function(t){var e=this;if(!this.options.animation)return clearTimeout(n),void("function"==typeof t&&t());var r=!1,i=0;o.forEach((function(t){var n=0,o=t.target,a=o.fromRect,s=Jt(o),l=o.prevFromRect,c=o.prevToRect,d=t.rect,u=Ft(o,!0);u&&(s.top-=u.f,s.left-=u.e),o.toRect=s,o.thisAnimationDuration&&ee(l,s)&&!ee(a,s)&&(d.top-s.top)/(d.left-s.left)==(a.top-s.top)/(a.left-s.left)&&(n=function(t,e,n,o){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*o.animation}(d,l,c,e.options)),ee(s,a)||(o.prevFromRect=a,o.prevToRect=s,n||(n=e.options.animation),e.animate(o,d,s,n)),n&&(r=!0,i=Math.max(i,n),clearTimeout(o.animationResetTimer),o.animationResetTimer=setTimeout((function(){o.animationTime=0,o.prevFromRect=null,o.fromRect=null,o.prevToRect=null,o.thisAnimationDuration=null}),n),o.thisAnimationDuration=n)})),clearTimeout(n),r?n=setTimeout((function(){"function"==typeof t&&t()}),i):"function"==typeof t&&t(),o=[]},animate:function(t,e,n,o){if(o){Yt(t,"transition",""),Yt(t,"transform","");var r=Ft(this.el),i=(e.left-n.left)/(r&&r.a||1),a=(e.top-n.top)/(r&&r.d||1);t.animatingX=!!i,t.animatingY=!!a,Yt(t,"transform","translate3d("+i+"px,"+a+"px,0)"),this.forRepaintDummy=function(t){return t.offsetWidth}(t),Yt(t,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),Yt(t,"transform","translate3d(0,0,0)"),"number"==typeof t.animated&&clearTimeout(t.animated),t.animated=setTimeout((function(){Yt(t,"transition",""),Yt(t,"transform",""),t.animated=!1,t.animatingX=!1,t.animatingY=!1}),o)}}}))}function sn(t,e,n,o,r,i,a,s){var l,c,d=t[se],u=d.options.onMove;return!window.CustomEvent||Ct||Mt?(l=document.createEvent("Event")).initEvent("move",!0,!0):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=e,l.from=t,l.dragged=n,l.draggedRect=o,l.related=r||e,l.relatedRect=i||Jt(e),l.willInsertAfter=s,l.originalEvent=a,t.dispatchEvent(l),u&&(c=u.call(d,l,a)),c}function ln(t){t.draggable=!1}function cn(){Fe=!1}function dn(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,o=0;n--;)o+=e.charCodeAt(n);return o.toString(36)}function un(t){return setTimeout(t,0)}function hn(t){return clearTimeout(t)}an.prototype={constructor:an,_isOutsideThisEl:function(t){this.el.contains(t)||t===this.el||(Ie=null)},_getDirection:function(t,e){return"function"==typeof this.options.direction?this.options.direction.call(this,t,e,fe):this.options.direction},_onTapStart:function(t){if(t.cancelable){var e=this,n=this.el,o=this.options,r=o.preventOnFilter,i=t.type,a=t.touches&&t.touches[0]||t.pointerType&&"touch"===t.pointerType&&t,s=(a||t).target,l=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||s,c=o.filter;if(function(t){ze.length=0;for(var e=t.getElementsByTagName("input"),n=e.length;n--;){var o=e[n];o.checked&&ze.push(o)}}(n),!fe&&!(/mousedown|pointerdown/.test(i)&&0!==t.button||o.disabled)&&!l.isContentEditable&&(this.nativeDraggable||!Ot||!s||"SELECT"!==s.tagName.toUpperCase())&&!((s=Xt(s,o.draggable,n,!1))&&s.animated||be===s)){if(De=Qt(s),Se=Qt(s,o.draggable),"function"==typeof c){if(c.call(this,t,s,this))return pe({sortable:e,rootEl:l,name:"filter",targetEl:s,toEl:n,fromEl:n}),he("filter",e,{evt:t}),void(r&&t.cancelable&&t.preventDefault())}else if(c&&(c=c.split(",").some((function(o){if(o=Xt(l,o.trim(),n,!1))return pe({sortable:e,rootEl:o,name:"filter",targetEl:s,fromEl:n,toEl:n}),he("filter",e,{evt:t}),!0}))))return void(r&&t.cancelable&&t.preventDefault());o.handle&&!Xt(l,o.handle,n,!1)||this._prepareDragStart(t,a,s)}}},_prepareDragStart:function(t,e,n){var o,r=this,i=r.el,a=r.options,s=i.ownerDocument;if(n&&!fe&&n.parentNode===i){var l=Jt(n);if(ve=i,me=(fe=n).parentNode,ye=fe.nextSibling,be=n,je=a.group,an.dragged=fe,Oe=(xe={target:fe,clientX:(e||t).clientX,clientY:(e||t).clientY}).clientX-l.left,Ne=xe.clientY-l.top,this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,fe.style["will-change"]="all",o=function(){he("delayEnded",r,{evt:t}),an.eventCanceled?r._onDrop():(r._disableDelayedDragEvents(),!_t&&r.nativeDraggable&&(fe.draggable=!0),r._triggerDragStart(t,e),pe({sortable:r,name:"choose",originalEvent:t}),Rt(fe,a.chosenClass,!0))},a.ignore.split(",").forEach((function(t){zt(fe,t.trim(),ln)})),At(s,"dragover",on),At(s,"mousemove",on),At(s,"touchmove",on),At(s,"mouseup",r._onDrop),At(s,"touchend",r._onDrop),At(s,"touchcancel",r._onDrop),_t&&this.nativeDraggable&&(this.options.touchStartThreshold=4,fe.draggable=!0),he("delayStart",this,{evt:t}),!a.delay||a.delayOnTouchOnly&&!e||this.nativeDraggable&&(Mt||Ct))o();else{if(an.eventCanceled)return void this._onDrop();At(s,"mouseup",r._disableDelayedDrag),At(s,"touchend",r._disableDelayedDrag),At(s,"touchcancel",r._disableDelayedDrag),At(s,"mousemove",r._delayedDragTouchMoveHandler),At(s,"touchmove",r._delayedDragTouchMoveHandler),a.supportPointer&&At(s,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(o,a.delay)}}},_delayedDragTouchMoveHandler:function(t){var e=t.touches?t.touches[0]:t;Math.max(Math.abs(e.clientX-this._lastX),Math.abs(e.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){fe&&ln(fe),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;qt(t,"mouseup",this._disableDelayedDrag),qt(t,"touchend",this._disableDelayedDrag),qt(t,"touchcancel",this._disableDelayedDrag),qt(t,"mousemove",this._delayedDragTouchMoveHandler),qt(t,"touchmove",this._delayedDragTouchMoveHandler),qt(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,e){e=e||"touch"==t.pointerType&&t,!this.nativeDraggable||e?At(document,this.options.supportPointer?"pointermove":e?"touchmove":"mousemove",this._onTouchMove):(At(fe,"dragend",this),At(ve,"dragstart",this._onDragStart));try{document.selection?un((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(t){}},_dragStarted:function(t,e){if($e=!1,ve&&fe){he("dragStarted",this,{evt:e}),this.nativeDraggable&&At(document,"dragover",rn);var n=this.options;!t&&Rt(fe,n.dragClass,!1),Rt(fe,n.ghostClass,!0),an.active=this,t&&this._appendGhost(),pe({sortable:this,name:"start",originalEvent:e})}else this._nulling()},_emulateDragOver:function(){if(Ce){this._lastX=Ce.clientX,this._lastY=Ce.clientY,tn();for(var t=document.elementFromPoint(Ce.clientX,Ce.clientY),e=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(Ce.clientX,Ce.clientY))!==e;)e=t;if(fe.parentNode[se]._isOutsideThisEl(t),e)do{if(e[se]&&e[se]._onDragOver({clientX:Ce.clientX,clientY:Ce.clientY,target:t,rootEl:e})&&!this.options.dragoverBubble)break;t=e}while(e=e.parentNode);en()}},_onTouchMove:function(t){if(xe){var e=this.options,n=e.fallbackTolerance,o=e.fallbackOffset,r=t.touches?t.touches[0]:t,i=ge&&Ft(ge,!0),a=ge&&i&&i.a,s=ge&&i&&i.d,l=Je&&We&&Zt(We),c=(r.clientX-xe.clientX+o.x)/(a||1)+(l?l[0]-Ye[0]:0)/(a||1),d=(r.clientY-xe.clientY+o.y)/(s||1)+(l?l[1]-Ye[1]:0)/(s||1);if(!an.active&&!$e){if(n&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<n)return;this._onDragStart(t,!0)}if(ge){i?(i.e+=c-(Me||0),i.f+=d-(_e||0)):i={a:1,b:0,c:0,d:1,e:c,f:d};var u="matrix("+i.a+","+i.b+","+i.c+","+i.d+","+i.e+","+i.f+")";Yt(ge,"webkitTransform",u),Yt(ge,"mozTransform",u),Yt(ge,"msTransform",u),Yt(ge,"transform",u),Me=c,_e=d,Ce=r}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!ge){var t=this.options.fallbackOnBody?document.body:ve,e=Jt(fe,!0,Je,!0,t),n=this.options;if(Je){for(We=t;"static"===Yt(We,"position")&&"none"===Yt(We,"transform")&&We!==document;)We=We.parentNode;We!==document.body&&We!==document.documentElement?(We===document&&(We=Kt()),e.top+=We.scrollTop,e.left+=We.scrollLeft):We=Kt(),Ye=Zt(We)}Rt(ge=fe.cloneNode(!0),n.ghostClass,!1),Rt(ge,n.fallbackClass,!0),Rt(ge,n.dragClass,!0),Yt(ge,"transition",""),Yt(ge,"transform",""),Yt(ge,"box-sizing","border-box"),Yt(ge,"margin",0),Yt(ge,"top",e.top),Yt(ge,"left",e.left),Yt(ge,"width",e.width),Yt(ge,"height",e.height),Yt(ge,"opacity","0.8"),Yt(ge,"position",Je?"absolute":"fixed"),Yt(ge,"zIndex","100000"),Yt(ge,"pointerEvents","none"),an.ghost=ge,t.appendChild(ge),Yt(ge,"transform-origin",Oe/parseInt(ge.style.width)*100+"% "+Ne/parseInt(ge.style.height)*100+"%")}},_onDragStart:function(t,e){var n=this,o=t.dataTransfer,r=n.options;he("dragStart",this,{evt:t}),an.eventCanceled?this._onDrop():(he("setupClone",this),an.eventCanceled||((we=re(fe)).draggable=!1,we.style["will-change"]="",this._hideClone(),Rt(we,this.options.chosenClass,!1),an.clone=we),n.cloneId=un((function(){he("clone",n),an.eventCanceled||(n.options.removeCloneOnHide||ve.insertBefore(we,fe),n._hideClone(),pe({sortable:n,name:"clone"}))})),!e&&Rt(fe,r.dragClass,!0),e?(Xe=!0,n._loopId=setInterval(n._emulateDragOver,50)):(qt(document,"mouseup",n._onDrop),qt(document,"touchend",n._onDrop),qt(document,"touchcancel",n._onDrop),o&&(o.effectAllowed="move",r.setData&&r.setData.call(n,o,fe)),At(document,"drop",n),Yt(fe,"transform","translateZ(0)")),$e=!0,n._dragStartId=un(n._dragStarted.bind(n,e,t)),At(document,"selectstart",n),Pe=!0,Ot&&Yt(document.body,"user-select","none"))},_onDragOver:function(t){var e,n,o,r,i=this.el,a=t.target,s=this.options,l=s.group,c=an.active,d=je===l,u=s.sort,h=Le||c,p=this,f=!1;if(!Fe){if(void 0!==t.preventDefault&&t.cancelable&&t.preventDefault(),a=Xt(a,s.draggable,i,!0),x("dragOver"),an.eventCanceled)return f;if(fe.contains(t.target)||a.animated&&a.animatingX&&a.animatingY||p._ignoreWhileAnimating===a)return M(!1);if(Xe=!1,c&&!s.disabled&&(d?u||(o=!ve.contains(fe)):Le===this||(this.lastPutMode=je.checkPull(this,c,fe,t))&&l.checkPut(this,c,fe,t))){if(r="vertical"===this._getDirection(t,a),e=Jt(fe),x("dragOverValid"),an.eventCanceled)return f;if(o)return me=ve,C(),this._hideClone(),x("revert"),an.eventCanceled||(ye?ve.insertBefore(fe,ye):ve.appendChild(fe)),M(!0);var m=Vt(i,s.draggable);if(!m||function(t,e,n){var o=Jt(Vt(n.el,n.options.draggable));return e?t.clientX>o.right+10||t.clientX<=o.right&&t.clientY>o.bottom&&t.clientX>=o.left:t.clientX>o.right&&t.clientY>o.top||t.clientX<=o.right&&t.clientY>o.bottom+10}(t,r,this)&&!m.animated){if(m===fe)return M(!1);if(m&&i===t.target&&(a=m),a&&(n=Jt(a)),!1!==sn(ve,i,fe,e,a,n,t,!!a))return C(),i.appendChild(fe),me=i,_(),M(!0)}else if(a.parentNode===i){n=Jt(a);var g,v,y,b=fe.parentNode!==i,w=!function(t,e,n){var o=n?t.left:t.top,r=n?e.left:e.top;return o===r||(n?t.right:t.bottom)===(n?e.right:e.bottom)||o+(n?t.width:t.height)/2===r+(n?e.width:e.height)/2}(fe.animated&&fe.toRect||e,a.animated&&a.toRect||n,r),k=r?"top":"left",D=Gt(a,"top","top")||Gt(fe,"top","top"),T=D?D.scrollTop:void 0;if(Ie!==a&&(v=n[k],He=!1,Re=!w&&s.invertSwap||b),0!==(g=function(t,e,n,o,r,i,a,s){var l=o?t.clientY:t.clientX,c=o?n.height:n.width,d=o?n.top:n.left,u=o?n.bottom:n.right,h=!1;if(!a)if(s&&qe<c*r){if(!He&&(1===Ae?l>d+c*i/2:l<u-c*i/2)&&(He=!0),He)h=!0;else if(1===Ae?l<d+qe:l>u-qe)return-Ae}else if(l>d+c*(1-r)/2&&l<u-c*(1-r)/2)return function(t){return Qt(fe)<Qt(t)?1:-1}(e);return(h=h||a)&&(l<d+c*i/2||l>u-c*i/2)?l>d+c/2?1:-1:0}(t,a,n,r,w?1:s.swapThreshold,null==s.invertedSwapThreshold?s.swapThreshold:s.invertedSwapThreshold,Re,Ie===a))){var S=Qt(fe);do{y=me.children[S-=g]}while(y&&("none"===Yt(y,"display")||y===ge))}if(0===g||y===a)return M(!1);Ie=a,Ae=g;var E=a.nextElementSibling,j=!1,L=sn(ve,i,fe,e,a,n,t,j=1===g);if(!1!==L)return 1!==L&&-1!==L||(j=1===L),Fe=!0,setTimeout(cn,30),C(),j&&!E?i.appendChild(fe):a.parentNode.insertBefore(fe,j?E:a),D&&oe(D,0,T-D.scrollTop),me=fe.parentNode,void 0===v||Re||(qe=Math.abs(v-Jt(a)[k])),_(),M(!0)}if(i.contains(fe))return M(!1)}return!1}function x(s,l){he(s,p,Lt({evt:t,isOwner:d,axis:r?"vertical":"horizontal",revert:o,dragRect:e,targetRect:n,canSort:u,fromSortable:h,target:a,completed:M,onMove:function(n,o){return sn(ve,i,fe,e,n,Jt(n),t,o)},changed:_},l))}function C(){x("dragOverAnimationCapture"),p.captureAnimationState(),p!==h&&h.captureAnimationState()}function M(e){return x("dragOverCompleted",{insertion:e}),e&&(d?c._hideClone():c._showClone(p),p!==h&&(Rt(fe,Le?Le.options.ghostClass:c.options.ghostClass,!1),Rt(fe,s.ghostClass,!0)),Le!==p&&p!==an.active?Le=p:p===an.active&&Le&&(Le=null),h===p&&(p._ignoreWhileAnimating=a),p.animateAll((function(){x("dragOverAnimationComplete"),p._ignoreWhileAnimating=null})),p!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(a===fe&&!fe.animated||a===i&&!a.animated)&&(Ie=null),s.dragoverBubble||t.rootEl||a===document||(fe.parentNode[se]._isOutsideThisEl(t.target),!e&&on(t)),!s.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),f=!0}function _(){Te=Qt(fe),Ee=Qt(fe,s.draggable),pe({sortable:p,name:"change",toEl:i,newIndex:Te,newDraggableIndex:Ee,originalEvent:t})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){qt(document,"mousemove",this._onTouchMove),qt(document,"touchmove",this._onTouchMove),qt(document,"pointermove",this._onTouchMove),qt(document,"dragover",on),qt(document,"mousemove",on),qt(document,"touchmove",on)},_offUpEvents:function(){var t=this.el.ownerDocument;qt(t,"mouseup",this._onDrop),qt(t,"touchend",this._onDrop),qt(t,"pointerup",this._onDrop),qt(t,"touchcancel",this._onDrop),qt(document,"selectstart",this)},_onDrop:function(t){var e=this.el,n=this.options;Te=Qt(fe),Ee=Qt(fe,n.draggable),he("drop",this,{evt:t}),me=fe&&fe.parentNode,Te=Qt(fe),Ee=Qt(fe,n.draggable),an.eventCanceled||($e=!1,Re=!1,He=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),hn(this.cloneId),hn(this._dragStartId),this.nativeDraggable&&(qt(document,"drop",this),qt(e,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Ot&&Yt(document.body,"user-select",""),Yt(fe,"transform",""),t&&(Pe&&(t.cancelable&&t.preventDefault(),!n.dropBubble&&t.stopPropagation()),ge&&ge.parentNode&&ge.parentNode.removeChild(ge),(ve===me||Le&&"clone"!==Le.lastPutMode)&&we&&we.parentNode&&we.parentNode.removeChild(we),fe&&(this.nativeDraggable&&qt(fe,"dragend",this),ln(fe),fe.style["will-change"]="",Pe&&!$e&&Rt(fe,Le?Le.options.ghostClass:this.options.ghostClass,!1),Rt(fe,this.options.chosenClass,!1),pe({sortable:this,name:"unchoose",toEl:me,newIndex:null,newDraggableIndex:null,originalEvent:t}),ve!==me?(Te>=0&&(pe({rootEl:me,name:"add",toEl:me,fromEl:ve,originalEvent:t}),pe({sortable:this,name:"remove",toEl:me,originalEvent:t}),pe({rootEl:me,name:"sort",toEl:me,fromEl:ve,originalEvent:t}),pe({sortable:this,name:"sort",toEl:me,originalEvent:t})),Le&&Le.save()):Te!==De&&Te>=0&&(pe({sortable:this,name:"update",toEl:me,originalEvent:t}),pe({sortable:this,name:"sort",toEl:me,originalEvent:t})),an.active&&(null!=Te&&-1!==Te||(Te=De,Ee=Se),pe({sortable:this,name:"end",toEl:me,originalEvent:t}),this.save())))),this._nulling()},_nulling:function(){he("nulling",this),ve=fe=me=ge=ye=we=be=ke=xe=Ce=Pe=Te=Ee=De=Se=Ie=Ae=Le=je=an.dragged=an.ghost=an.clone=an.active=null,ze.forEach((function(t){t.checked=!0})),ze.length=Me=_e=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":fe&&(this._onDragOver(t),function(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}(t));break;case"selectstart":t.preventDefault()}},toArray:function(){for(var t,e=[],n=this.el.children,o=0,r=n.length,i=this.options;o<r;o++)Xt(t=n[o],i.draggable,this.el,!1)&&e.push(t.getAttribute(i.dataIdAttr)||dn(t));return e},sort:function(t){var e={},n=this.el;this.toArray().forEach((function(t,o){var r=n.children[o];Xt(r,this.options.draggable,n,!1)&&(e[t]=r)}),this),t.forEach((function(t){e[t]&&(n.removeChild(e[t]),n.appendChild(e[t]))}))},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,e){return Xt(t,e||this.options.draggable,this.el,!1)},option:function(t,e){var n=this.options;if(void 0===e)return n[t];var o=de.modifyOption(this,t,e);n[t]=void 0!==o?o:e,"group"===t&&Ze(n)},destroy:function(){he("destroy",this);var t=this.el;t[se]=null,qt(t,"mousedown",this._onTapStart),qt(t,"touchstart",this._onTapStart),qt(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(qt(t,"dragover",this),qt(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),(function(t){t.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),Be.splice(Be.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!ke){if(he("hideClone",this),an.eventCanceled)return;Yt(we,"display","none"),this.options.removeCloneOnHide&&we.parentNode&&we.parentNode.removeChild(we),ke=!0}},_showClone:function(t){if("clone"===t.lastPutMode){if(ke){if(he("showClone",this),an.eventCanceled)return;fe.parentNode!=ve||this.options.group.revertClone?ye?ve.insertBefore(we,ye):ve.appendChild(we):ve.insertBefore(we,fe),this.options.group.revertClone&&this.animate(fe,we),Yt(we,"display",""),ke=!1}}else this._hideClone()}},Ke&&At(document,"touchmove",(function(t){(an.active||$e)&&t.cancelable&&t.preventDefault()})),an.utils={on:At,off:qt,css:Yt,find:zt,is:function(t,e){return!!Xt(t,e,t,!1)},extend:function(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},throttle:ne,closest:Xt,toggleClass:Rt,clone:re,index:Qt,nextTick:un,cancelNextTick:hn,detectDirection:Qe,getChild:Ut},an.get=function(t){return t[se]},an.mount=function(){var t=[].slice.call(arguments);t[0].constructor===Array&&(t=t[0]),t.forEach((function(t){if(!t.prototype||!t.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not "+{}.toString.call(t);t.utils&&(an.utils=Lt({},an.utils,t.utils)),de.mount(t)}))},an.create=function(t,e){return new an(t,e)},an.version="1.12.0";var pn,fn,mn,gn,vn,yn=[],bn=[],wn=!1,kn=!1,Dn=!1;function Tn(t,e){bn.forEach((function(n,o){var r=e.children[n.sortableIndex+(t?Number(o):0)];r?e.insertBefore(n,r):e.appendChild(n)}))}function Sn(){yn.forEach((function(t){t!==mn&&t.parentNode&&t.parentNode.removeChild(t)}))}var En=function(t){var e=t.originalEvent,n=t.putSortable,o=t.dragEl,r=t.dispatchSortableEvent,i=t.unhideGhostForTarget;if(e){var a=n||t.activeSortable;(0,t.hideGhostForTarget)();var s=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,l=document.elementFromPoint(s.clientX,s.clientY);i(),a&&!a.el.contains(l)&&(r("spill"),this.onSpill({dragEl:o,putSortable:n}))}};function jn(){}function Ln(){}jn.prototype={startIndex:null,dragStart:function(t){this.startIndex=t.oldDraggableIndex},onSpill:function(t){var e=t.dragEl,n=t.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var o=Ut(this.sortable.el,this.startIndex,this.options);o?this.sortable.el.insertBefore(e,o):this.sortable.el.appendChild(e),this.sortable.animateAll(),n&&n.animateAll()},drop:En},Object.assign(jn,{pluginName:"revertOnSpill"}),Ln.prototype={onSpill:function(t){var e=t.dragEl,n=t.putSortable||this.sortable;n.captureAnimationState(),e.parentNode&&e.parentNode.removeChild(e),n.animateAll()},drop:En},Object.assign(Ln,{pluginName:"removeOnSpill"});var xn,Cn,Mn,_n,On,Nn,Pn=[],In=!1;function An(){Pn.forEach((function(t){clearInterval(t.pid)})),Pn=[]}function qn(){clearInterval(Nn)}var Wn=ne((function(t,e,n,o){if(e.scroll){var r,i=(t.touches?t.touches[0]:t).clientX,a=(t.touches?t.touches[0]:t).clientY,s=e.scrollSensitivity,l=e.scrollSpeed,c=Kt(),d=!1;Cn!==n&&(Cn=n,An(),r=e.scrollFn,!0===(xn=e.scroll)&&(xn=te(n,!0)));var u=0,h=xn;do{var p=h,f=Jt(p),m=f.top,g=f.bottom,v=f.left,y=f.right,b=f.width,w=f.height,k=void 0,D=void 0,T=p.scrollWidth,S=p.scrollHeight,E=Yt(p),j=p.scrollLeft,L=p.scrollTop;p===c?(k=b<T&&("auto"===E.overflowX||"scroll"===E.overflowX||"visible"===E.overflowX),D=w<S&&("auto"===E.overflowY||"scroll"===E.overflowY||"visible"===E.overflowY)):(k=b<T&&("auto"===E.overflowX||"scroll"===E.overflowX),D=w<S&&("auto"===E.overflowY||"scroll"===E.overflowY));var x=k&&(Math.abs(y-i)<=s&&j+b<T)-(Math.abs(v-i)<=s&&!!j),C=D&&(Math.abs(g-a)<=s&&L+w<S)-(Math.abs(m-a)<=s&&!!L);if(!Pn[u])for(var M=0;M<=u;M++)Pn[M]||(Pn[M]={});Pn[u].vx==x&&Pn[u].vy==C&&Pn[u].el===p||(Pn[u].el=p,Pn[u].vx=x,Pn[u].vy=C,clearInterval(Pn[u].pid),0==x&&0==C||(d=!0,Pn[u].pid=setInterval(function(){o&&0===this.layer&&an.active._onTouchMove(On);var e=Pn[this.layer].vy?Pn[this.layer].vy*l:0,n=Pn[this.layer].vx?Pn[this.layer].vx*l:0;"function"==typeof r&&"continue"!==r.call(an.dragged.parentNode[se],n,e,t,On,Pn[this.layer].el)||oe(Pn[this.layer].el,n,e)}.bind({layer:u}),24))),u++}while(e.bubbleScroll&&h!==c&&(h=te(h,!1)));In=d}}),30);an.mount(new function(){function t(){for(var t in this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this))}return t.prototype={dragStarted:function(t){var e=t.originalEvent;this.sortable.nativeDraggable?At(document,"dragover",this._handleAutoScroll):At(document,this.options.supportPointer?"pointermove":e.touches?"touchmove":"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var e=t.originalEvent;this.options.dragOverBubble||e.rootEl||this._handleAutoScroll(e)},drop:function(){this.sortable.nativeDraggable?qt(document,"dragover",this._handleAutoScroll):(qt(document,"pointermove",this._handleFallbackAutoScroll),qt(document,"touchmove",this._handleFallbackAutoScroll),qt(document,"mousemove",this._handleFallbackAutoScroll)),qn(),An(),clearTimeout(Bt),Bt=void 0},nulling:function(){On=Cn=xn=In=Nn=Mn=_n=null,Pn.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,e){var n=this,o=(t.touches?t.touches[0]:t).clientX,r=(t.touches?t.touches[0]:t).clientY,i=document.elementFromPoint(o,r);if(On=t,e||Mt||Ct||Ot){Wn(t,this.options,i,e);var a=te(i,!0);!In||Nn&&o===Mn&&r===_n||(Nn&&qn(),Nn=setInterval((function(){var i=te(document.elementFromPoint(o,r),!0);i!==a&&(a=i,An()),Wn(t,n.options,i,e)}),10),Mn=o,_n=r)}else{if(!this.options.bubbleScroll||te(i,!0)===Kt())return void An();Wn(t,this.options,te(i,!1),!1)}}},Object.assign(t,{pluginName:"scroll",initializeByDefault:!0})}),an.mount(Ln,jn),an.mount(new function(){function t(){this.defaults={swapClass:"sortable-swap-highlight"}}return t.prototype={dragStart:function(t){nn=t.dragEl},dragOverValid:function(t){var e=t.completed,n=t.target,o=t.changed,r=t.cancel;if(t.activeSortable.options.swap){var i=this.options;if(n&&n!==this.sortable.el){var a=nn;!1!==(0,t.onMove)(n)?(Rt(n,i.swapClass,!0),nn=n):nn=null,a&&a!==nn&&Rt(a,i.swapClass,!1)}o(),e(!0),r()}},drop:function(t){var e,n,o,r,i,a,s=t.activeSortable,l=t.putSortable,c=t.dragEl,d=l||this.sortable,u=this.options;nn&&Rt(nn,u.swapClass,!1),nn&&(u.swap||l&&l.options.swap)&&c!==nn&&(d.captureAnimationState(),d!==s&&s.captureAnimationState(),a=(n=nn).parentNode,(i=(e=c).parentNode)&&a&&!i.isEqualNode(n)&&!a.isEqualNode(e)&&(o=Qt(e),r=Qt(n),i.isEqualNode(a)&&o<r&&r++,i.insertBefore(n,i.children[o]),a.insertBefore(e,a.children[r])),d.animateAll(),d!==s&&s.animateAll())},nulling:function(){nn=null}},Object.assign(t,{pluginName:"swap",eventProperties:function(){return{swapItem:nn}}})}),an.mount(new function(){function t(t){for(var e in this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this));t.options.supportPointer?At(document,"pointerup",this._deselectMultiDrag):(At(document,"mouseup",this._deselectMultiDrag),At(document,"touchend",this._deselectMultiDrag)),At(document,"keydown",this._checkKeyDown),At(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(e,n){var o="";yn.length&&fn===t?yn.forEach((function(t,e){o+=(e?", ":"")+t.textContent})):o=n.textContent,e.setData("Text",o)}}}return t.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(t){mn=t.dragEl},delayEnded:function(){this.isMultiDrag=~yn.indexOf(mn)},setupClone:function(t){var e=t.sortable,n=t.cancel;if(this.isMultiDrag){for(var o=0;o<yn.length;o++)bn.push(re(yn[o])),bn[o].sortableIndex=yn[o].sortableIndex,bn[o].draggable=!1,bn[o].style["will-change"]="",Rt(bn[o],this.options.selectedClass,!1),yn[o]===mn&&Rt(bn[o],this.options.chosenClass,!1);e._hideClone(),n()}},clone:function(t){var e=t.dispatchSortableEvent,n=t.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||yn.length&&fn===t.sortable&&(Tn(!0,t.rootEl),e("clone"),n()))},showClone:function(t){var e=t.cloneNowShown,n=t.cancel;this.isMultiDrag&&(Tn(!1,t.rootEl),bn.forEach((function(t){Yt(t,"display","")})),e(),vn=!1,n())},hideClone:function(t){var e=this,n=t.cloneNowHidden,o=t.cancel;this.isMultiDrag&&(bn.forEach((function(t){Yt(t,"display","none"),e.options.removeCloneOnHide&&t.parentNode&&t.parentNode.removeChild(t)})),n(),vn=!0,o())},dragStartGlobal:function(t){!this.isMultiDrag&&fn&&fn.multiDrag._deselectMultiDrag(),yn.forEach((function(t){t.sortableIndex=Qt(t)})),yn=yn.sort((function(t,e){return t.sortableIndex-e.sortableIndex})),Dn=!0},dragStarted:function(t){var e=this,n=t.sortable;if(this.isMultiDrag){if(this.options.sort&&(n.captureAnimationState(),this.options.animation)){yn.forEach((function(t){t!==mn&&Yt(t,"position","absolute")}));var o=Jt(mn,!1,!0,!0);yn.forEach((function(t){t!==mn&&ie(t,o)})),kn=!0,wn=!0}n.animateAll((function(){kn=!1,wn=!1,e.options.animation&&yn.forEach((function(t){ae(t)})),e.options.sort&&Sn()}))}},dragOver:function(t){var e=t.completed,n=t.cancel;kn&&~yn.indexOf(t.target)&&(e(!1),n())},revert:function(t){var e=t.fromSortable,n=t.rootEl,o=t.sortable,r=t.dragRect;yn.length>1&&(yn.forEach((function(t){o.addAnimationState({target:t,rect:kn?Jt(t):r}),ae(t),t.fromRect=r,e.removeAnimationState(t)})),kn=!1,function(t,e){yn.forEach((function(n,o){var r=e.children[n.sortableIndex+(t?Number(o):0)];r?e.insertBefore(n,r):e.appendChild(n)}))}(!this.options.removeCloneOnHide,n))},dragOverCompleted:function(t){var e=t.sortable,n=t.isOwner,o=t.activeSortable,r=t.parentEl,i=t.putSortable,a=this.options;if(t.insertion){if(n&&o._hideClone(),wn=!1,a.animation&&yn.length>1&&(kn||!n&&!o.options.sort&&!i)){var s=Jt(mn,!1,!0,!0);yn.forEach((function(t){t!==mn&&(ie(t,s),r.appendChild(t))})),kn=!0}if(!n)if(kn||Sn(),yn.length>1){var l=vn;o._showClone(e),o.options.animation&&!vn&&l&&bn.forEach((function(t){o.addAnimationState({target:t,rect:gn}),t.fromRect=gn,t.thisAnimationDuration=null}))}else o._showClone(e)}},dragOverAnimationCapture:function(t){var e=t.dragRect,n=t.isOwner,o=t.activeSortable;if(yn.forEach((function(t){t.thisAnimationDuration=null})),o.options.animation&&!n&&o.multiDrag.isMultiDrag){gn=Object.assign({},e);var r=Ft(mn,!0);gn.top-=r.f,gn.left-=r.e}},dragOverAnimationComplete:function(){kn&&(kn=!1,Sn())},drop:function(t){var e=t.originalEvent,n=t.rootEl,o=t.parentEl,r=t.sortable,i=t.dispatchSortableEvent,a=t.oldIndex,s=t.putSortable,l=s||this.sortable;if(e){var c=this.options,d=o.children;if(!Dn)if(c.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),Rt(mn,c.selectedClass,!~yn.indexOf(mn)),~yn.indexOf(mn))yn.splice(yn.indexOf(mn),1),pn=null,ue({sortable:r,rootEl:n,name:"deselect",targetEl:mn,originalEvt:e});else{if(yn.push(mn),ue({sortable:r,rootEl:n,name:"select",targetEl:mn,originalEvt:e}),e.shiftKey&&pn&&r.el.contains(pn)){var u,h,p=Qt(pn),f=Qt(mn);if(~p&&~f&&p!==f)for(f>p?(h=p,u=f):(h=f,u=p+1);h<u;h++)~yn.indexOf(d[h])||(Rt(d[h],c.selectedClass,!0),yn.push(d[h]),ue({sortable:r,rootEl:n,name:"select",targetEl:d[h],originalEvt:e}))}else pn=mn;fn=l}if(Dn&&this.isMultiDrag){if((o[se].options.sort||o!==n)&&yn.length>1){var m=Jt(mn),g=Qt(mn,":not(."+this.options.selectedClass+")");if(!wn&&c.animation&&(mn.thisAnimationDuration=null),l.captureAnimationState(),!wn&&(c.animation&&(mn.fromRect=m,yn.forEach((function(t){if(t.thisAnimationDuration=null,t!==mn){var e=kn?Jt(t):m;t.fromRect=e,l.addAnimationState({target:t,rect:e})}}))),Sn(),yn.forEach((function(t){d[g]?o.insertBefore(t,d[g]):o.appendChild(t),g++})),a===Qt(mn))){var v=!1;yn.forEach((function(t){t.sortableIndex===Qt(t)||(v=!0)})),v&&i("update")}yn.forEach((function(t){ae(t)})),l.animateAll()}fn=l}(n===o||s&&"clone"!==s.lastPutMode)&&bn.forEach((function(t){t.parentNode&&t.parentNode.removeChild(t)}))}},nullingGlobal:function(){this.isMultiDrag=Dn=!1,bn.length=0},destroyGlobal:function(){this._deselectMultiDrag(),qt(document,"pointerup",this._deselectMultiDrag),qt(document,"mouseup",this._deselectMultiDrag),qt(document,"touchend",this._deselectMultiDrag),qt(document,"keydown",this._checkKeyDown),qt(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(t){if(!(void 0!==Dn&&Dn||fn!==this.sortable||t&&Xt(t.target,this.options.draggable,this.sortable.el,!1)||t&&0!==t.button))for(;yn.length;){var e=yn[0];Rt(e,this.options.selectedClass,!1),yn.shift(),ue({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:e,originalEvt:t})}},_checkKeyDown:function(t){t.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(t){t.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},Object.assign(t,{pluginName:"multiDrag",utils:{select:function(t){var e=t.parentNode[se];e&&e.options.multiDrag&&!~yn.indexOf(t)&&(fn&&fn!==e&&(fn.multiDrag._deselectMultiDrag(),fn=e),Rt(t,e.options.selectedClass,!0),yn.push(t))},deselect:function(t){var e=t.parentNode[se],n=yn.indexOf(t);e&&e.options.multiDrag&&~n&&(Rt(t,e.options.selectedClass,!1),yn.splice(n,1))}},eventProperties:function(){var t=this,e=[],n=[];return yn.forEach((function(o){var r;e.push({multiDragElement:o,index:o.sortableIndex}),r=kn&&o!==mn?-1:kn?Qt(o,":not(."+t.options.selectedClass+")"):Qt(o),n.push({multiDragElement:o,index:r})})),{items:[].concat(yn),clones:[].concat(bn),oldIndicies:e,newIndicies:n}},optionListeners:{multiDragKey:function(t){return"ctrl"===(t=t.toLowerCase())?t="Control":t.length>1&&(t=t.charAt(0).toUpperCase()+t.substr(1)),t}}})});var $n=an;const Xn=t=>{T.titleBtns.innerHTML="",T.mainTitle.textContent="today"===t?"Today":"Next 7 Days"},Bn=(t,e)=>{T.todayCount.textContent=t,T.weekCount.textContent=e,T.todayCount.style.visibility=t>0?"visible":"hidden",T.weekCount.style.visibility=e>0?"visible":"hidden"},Hn=(t,e,n)=>{let o;"today"===e?o=t.target.closest("#today-container"):"week"===e&&(o=t.target.closest("#week-container"));const r=o.querySelector(".title-text"),i=o.querySelector(".task-num-style");n?(r.classList.add("hover"),i.classList.add("hover")):(r.classList.remove("hover"),i.classList.remove("hover"))},Rn=t=>{Yn();const e=t.querySelector(".title-text"),n=t.querySelector(".task-num-style");t.classList.add("highlight"),e.classList.add("bold"),n.classList.add("bold")},Yn=()=>{Array.from(document.querySelectorAll(".title-text")).forEach(t=>t.classList.remove("bold")),T.todayCount.classList.remove("bold"),T.weekCount.classList.remove("bold"),T.todayShortcut.classList.remove("highlight"),T.weekShortcut.classList.remove("highlight")},Fn={};window.addEventListener("load",()=>{Fn.projectList||(Fn.projectList=new g),Fn.todayOrder||(Fn.todayOrder=new k),Fn.weekOrder||(Fn.weekOrder=new D),Fn.moveableTaskList||(Fn.moveableTaskList=new $n(T.taskList,{animation:200,filter:".done",onUpdate:function(t){ho()}})),Fn.projectList.readStorage(),Fn.todayOrder.readStorage(),Fn.weekOrder.readStorage(),b(Fn.todayOrder,Fn.projectList),w(Fn.weekOrder,Fn.projectList);if(0===Fn.projectList.getNumProjects()){const t=Fn.projectList.addProject("Default Project");S(t),ft(t.name),Bn(0,0)}else{_(Fn.projectList.projects);const t=Fn.projectList.projects[0],e=Fn.projectList.getTaskList(t.id);ft(t.name),mt(e.tasks),zn()}});const zn=()=>{const t=y(Fn.projectList,"today"),e=y(Fn.projectList,"week");Bn(t,e)};T.projectList.addEventListener("click",t=>{const e=t.target.closest(".fa-chevron-right"),n=t.target.closest(".click-proj"),o=t.target.closest(".proj-items");if(e)Kn(e);else if(n)Jn(n),Yn(),N(n),A();else if(o){const t=o.parentElement.parentElement.dataset.projectid,e=o.dataset.taskid,n=o.parentElement.parentElement.querySelector(".click-proj");Gn(t),I(e),Et(e),N(n),Yn()}});const Kn=t=>{const e=t.parentElement.parentElement.dataset.projectid;if(C(e))M(e),O(t);else{if(Fn.projectList.getNumTasks(e)>0){const n=Fn.projectList.getTaskList(e);L(n.tasks,e),O(t)}}},Jn=t=>{const e=t.parentElement.parentElement.dataset.projectid;Gn(e)},Gn=t=>{const e=Fn.projectList.getProject(t),n=Fn.projectList.getTaskList(t);ft(e.name),mt(n.tasks)};T.addProjectBtn.addEventListener("click",()=>{q("add"),document.querySelector(".proj-name-input").addEventListener("keyup",B);document.getElementById("add-proj-form").addEventListener("submit",t=>{t.preventDefault(),Un()})});const Un=()=>{const t=$();if(t){const e=Fn.projectList.addProject(t);S(e),W()}};T.addTaskBtn.addEventListener("click",()=>{const t=Fn.projectList.getProjectNames();H("add",t),Vn();document.querySelector(".add-task-form").addEventListener("submit",t=>{t.preventDefault(),Qn()})});const Vn=()=>{const t=[document.querySelector("#task-due-date"),document.querySelector("#select-priority"),document.querySelector("#select-project")];document.querySelector("#task-title").addEventListener("keyup",F),t.forEach(t=>t.addEventListener("change",F))},Qn=()=>{const t=Y(),e=Fn.projectList.getProjectID(t.project),n=Fn.projectList.getTaskList(e),o=n.addTask(null,t.title,t.description,t.dueDate,t.priority,t.project,t.notes);Fn.projectList.persistData(),eo(n,o),Zn(),to(n,o),zn(),R()},Zn=()=>{Fn.projectList.projects.forEach(t=>{const e=Fn.projectList.getTaskList(t.id),n=C(t.id);j(e.tasks,t.id),n&&L(e.tasks,t.id)})},to=(t,e)=>{const n=T.mainTitle.textContent;n===e.projectName?mt(t.tasks):"Today"===n&&t.isDueToday(e.dueDate)?po("today"):"Next 7 Days"===n&&t.isDueThisWeek(e.dueDate)&&po("week")},eo=(t,e)=>{t.isDueToday(e.dueDate)?Fn.todayOrder.addTask(e.id):t.isDueThisWeek(e.dueDate)&&Fn.weekOrder.addTask(e.id)};T.titleBtns.addEventListener("click",t=>{const e=t.target.matches(".proj-edit-btn"),n=t.target.matches(".proj-trash-btn");let o;const r=t.target.parentElement.parentElement.firstElementChild.textContent;r&&(o=Fn.projectList.getProjectID(r)),e?no(o,r):n&&ro(o)});const no=(t,e)=>{q("edit",e),document.querySelector(".proj-name-input").addEventListener("keyup",B);document.getElementById("add-proj-form").addEventListener("submit",e=>{e.preventDefault(),oo(t)})},oo=t=>{const e=$();var n;e&&(Fn.projectList.renameProject(t,e),n=e,T.mainTitle.textContent=n,((t,e)=>{document.querySelector(`[data-projectid="${t}"]`).querySelector(".proj-name").textContent=e})(t,e),W())},ro=t=>{Fn.projectList.removeProject(t),T.mainTitle.textContent="",T.titleBtns.innerHTML="",T.taskList.innerHTML="",(t=>{const e=document.querySelector(`[data-projectid="${t}"]`);e.parentElement.removeChild(e)})(t)};T.taskList.addEventListener("click",t=>{const e=t.target.matches(".task-edit-btn"),n=t.target.matches(".task-trash-btn"),o=t.target.matches(".checkbox");if(e){const e=io(t,!1);ao(e.taskList,e.task)}else if(n){const e=io(t,!1);co(e.taskList,e.taskID,e.projectID)}else if(o){const e=t.target.checked,n=io(t,!0);uo(n.taskList,n.taskid,e)}}),T.taskList.addEventListener("click",t=>{const e=t.target.closest(".tasks");if(e){const t=e.dataset.taskid;Et(t);T.projectList.querySelector(`[data-taskid="${t}"]`)&&I(t)}});const io=(t,e)=>{if(e){const e=t.target.parentElement.parentElement.parentElement.dataset.taskid,n=t.target.parentElement.parentElement.parentElement.dataset.projectname,o=Fn.projectList.getProjectID(n);return{taskList:Fn.projectList.getTaskList(o),taskid:e}}{const e=t.target.parentElement.parentElement.dataset.taskid,n=t.target.parentElement.parentElement.dataset.projectname,o=Fn.projectList.getProjectID(n),r=Fn.projectList.getTaskList(o),i=r.getTask(e);return{taskID:e,projectID:o,taskList:r,task:i}}},ao=(t,e)=>{H("edit",Fn.projectList.getProjectNames(),e),Vn();document.querySelector(".add-task-form").addEventListener("submit",n=>{n.preventDefault(),so(t,e)})},so=(t,e)=>{const n=Y(),o=e.projectName,r=e.title,i=e.dueDate,a=e.priority;t.editTask(e.id,n.title,n.description,n.dueDate,n.priority,n.project,n.notes),Fn.projectList.persistData();const s=T.mainTitle.textContent;if(n.project!==o)"Today"===s||"Next 7 Days"===s?((t,e)=>{const n=T.taskList.querySelector(`[data-taskid="${t}"]`);n.dataset.projectname=e;n.querySelector(".task-proj-name").textContent=e})(e.id,n.project):bt(e.id),lo(t,e.id),_(Fn.projectList.projects);else if((n.title!==r||n.dueDate!==i||n.priority!==a)&&(((t,e,n,o,r)=>{const i=T.taskList.querySelector(`[data-taskid="${t}"]`),a=i.querySelector(".task-name"),s=i.querySelector(".time-remaining"),l=i.querySelector(".state");if(e&&(a.textContent=e),n&&(s.textContent="Due "+vt(n)),o&&(a.classList.remove("danger"),a.classList.remove("primary"),"high"===o?a.classList.add("danger"):"medium"===o&&a.classList.add("primary"),r)){const t=Tt(o);l.classList.remove("p-danger-o"),l.classList.remove("p-primary-o"),l.classList.add(t)}})(e.id,n.title,n.dueDate,n.priority,e.isDone),Zn(),n.dueDate!==i))if(b(Fn.todayOrder,Fn.projectList),w(Fn.weekOrder,Fn.projectList),"Today"===s){if(!t.isDueToday(n.dueDate)){T.taskList.querySelector(`[data-taskid="${e.id}"]`)&&bt(e.id)}}else if("Next 7 Days"===s&&!t.isDueThisWeek(n.dueDate)){T.taskList.querySelector(`[data-taskid="${e.id}"]`)&&bt(e.id)}zn(),R()},lo=(t,e)=>{const n=t.getTask(e);t.removeTask(e);const o=Fn.projectList.getProjectID(n.projectName);Fn.projectList.getTaskList(o).addTask(n.id,n.title,n.description,n.dueDate,n.priority,n.projectName,n.notes,n.isDone),Fn.projectList.persistData()},co=(t,e,n)=>{if(fo(t,e),t.removeTask(e),Fn.projectList.persistData(),bt(e),t.getNumTasks()>0)Zn();else{j(t.tasks,n),M(n);const e=(t=>document.querySelector(`[data-projectid="${t}"]`).querySelector(".fa-chevron-right"))(n);O(e)}zn()},uo=(t,e,n)=>{const o=T.mainTitle.textContent;t.changeDoneStatus(e,n),n?(t.moveTaskToEnd(e),mo(t,e,!0)):(t.restoreTheTask(e),mo(t,e,!1)),Fn.projectList.persistData(),"Today"===o?po("today"):"Next 7 Days"===o?po("week"):mt(t.tasks),((t,e)=>{const n=T.taskList.querySelector(`[data-taskid="${t}"]`),o=n.querySelector(".checkbox"),r=n.querySelector(".tasks-left"),i=n.querySelector(".time-remaining");e?(o.checked=!0,r.classList.add("finished"),i.classList.add("finished"),n.classList.add("done")):(o.checked=!1,r.classList.remove("finished"),i.classList.remove("finished"),n.classList.remove("done"))})(e,n),Zn()},ho=()=>{const t=T.mainTitle.textContent,e=Array.from(T.taskList.querySelectorAll(".tasks")).map(t=>t.dataset.taskid);if("Today"===t)Fn.todayOrder.updateOrder(e);else if("Next 7 Days"===t)Fn.weekOrder.updateOrder(e);else{const n=Fn.projectList.getProjectID(t);Fn.projectList.getTaskList(n).rearrangeTasks(e),Fn.projectList.persistData(),Zn()}};T.todayShortcut.addEventListener("click",()=>{Xn("today"),yt(),P(),A(),Rn(T.todayShortcut);y(Fn.projectList,"today")>0&&po("today")}),T.weekShortcut.addEventListener("click",()=>{Xn("week"),yt(),P(),A(),Rn(T.weekShortcut);y(Fn.projectList,"week")>0&&po("week")});const po=t=>{let e;"today"===t?(e=v(Fn.projectList,"today"),e=Fn.todayOrder.rearrangeTasks(e)):(e=v(Fn.projectList,"week"),e=Fn.weekOrder.rearrangeTasks(e)),mt(e,!0)},fo=(t,e)=>{const n=t.getTask(e).dueDate;t.isDueToday(n)?Fn.todayOrder.removeTask(e):t.isDueThisWeek(n)&&Fn.weekOrder.removeTask(e)},mo=(t,e,n)=>{const o=t.getTask(e).dueDate;n?t.isDueToday(o)?Fn.todayOrder.moveTaskToEnd(e):t.isDueThisWeek(o)&&Fn.weekOrder.moveTaskToEnd(e):t.isDueToday(o)?Fn.todayOrder.restoreTask(e):t.isDueThisWeek(o)&&Fn.weekOrder.restoreTask(e)};T.todayShortcut.addEventListener("mouseover",t=>{Hn(t,"today",!0)}),T.todayShortcut.addEventListener("mouseout",t=>{Hn(t,"today",!1)}),T.weekShortcut.addEventListener("mouseover",t=>{Hn(t,"week",!0)}),T.weekShortcut.addEventListener("mouseout",t=>{Hn(t,"week",!1)})}]);